# Mindustry 资源消耗系统完整策划案

## 1. 资源消耗体系总览

### 1.1 消耗系统架构

Mindustry的资源消耗系统建立在三个核心维度上：
- **时间维度**：一次性消耗 vs 持续性消耗
- **类型维度**：物品、液体、电力、载荷消耗
- **场景维度**：建设、生产、战斗、研究、升级

### 1.2 消耗系统设计理念

#### 1.2.1 渐进式成本递增
```
基础设施 < 生产建筑 < 军事建筑 < 高级设施
低成本快速启动 → 中等投入规模化 → 高成本精英化
```

#### 1.2.2 多资源平衡机制
- **主要资源**：铜、铅、石墨、硅 - 大量基础消耗
- **稀有资源**：钛、钍、合金 - 关键节点消耗
- **特殊资源**：电力、液体 - 持续运营消耗

#### 1.2.3 风险收益对等原则
```
消耗成本 = f(建筑价值, 产出效益, 使用风险)
高级建筑 = 高消耗 + 高产出 + 高风险
```

### 1.3 消耗计算核心公式

#### 1.3.1 基础消耗公式
```java
实际消耗量 = 基础消耗量 × 消耗倍率 × 效率系数 × 时间因子
消耗倍率 = buildCostMultiplier × researchCostMultiplier × unitCostMultiplier
效率系数 = Min(电力效率, 物品效率, 液体效率)
```

#### 1.3.2 优先级处理机制
```java
消耗优先级排序：
1. 必需消耗（建造、生产）
2. 效率提升消耗（液体加速、电力强化）
3. 可选消耗（护盾、修复）
```

## 2. 建筑建造消耗系统

### 2.1 建筑分类与成本结构

#### 2.1.1 基础设施建筑（Tier 0-1）
| 建筑类型 | 代表建筑 | 主要材料 | 成本范围 | 设计目的 |
|---------|----------|----------|----------|----------|
| 传输 | 传送带、管道 | 铜、铅 | 1-10 | 快速部署 |
| 存储 | 容器、仓库 | 钛 | 20-100 | 中等投入 |
| 发电 | 燃烧发电机 | 铜、铅 | 25-70 | 早期电力 |
| 采集 | 机械钻机 | 铜 | 12-35 | 资源获取 |

#### 2.1.2 生产建筑（Tier 1-2）
| 建筑名称 | 建造成本 | 产出能力 | 成本效率 |
|---------|----------|----------|----------|
| 石墨压制机 | 75铜+30铅 | 40石墨/分钟 | 中等 |
| 硅熔炉 | 30铜+25铅 | 90硅/分钟 | 高 |
| 窑炉 | 60铜+30石墨+30铅 | 120玻璃/分钟 | 中等 |
| 塑钢压制机 | 80硅+115铅+60石墨+80钛 | 60塑钢/分钟 | 低 |

#### 2.1.3 军事建筑（Tier 2-3）
| 炮塔名称 | 建造成本 | 射程 | DPS | 成本效率 |
|---------|----------|------|-----|----------|
| 双管炮 | 35铜 | 110 | 基础 | 极高 |
| 散射炮 | 85铜+45铅 | 140 | 中等 | 高 |
| 火焰炮 | 25铜+22石墨 | 60 | 高AOE | 中等 |
| 冰雹炮 | 40铜+17石墨 | 200 | 中等范围 | 中等 |
| 蜂群炮 | 35石墨+35钛+45塑钢+30硅 | 240 | 高爆发 | 低 |

#### 2.1.4 高级设施（Tier 3-4）
| 建筑名称 | 建造成本 | 特殊功能 | 战略价值 |
|---------|----------|----------|----------|
| 激光钻机 | 35铜+30石墨+30硅+20钛 | 高效采集 | 资源加速 |
| 冲击反应堆 | 500铅+300硅+400石墨+100钍+250电涌+250玻璃 | 超大功率 | 能源核心 |
| 相织机 | 130硅+120铅+75钍 | 制造相织物 | 科技跃升 |

### 2.2 建造成本设计原则

#### 2.2.1 成本递增规律
```
成本递增公式：
新建筑成本 = 基础成本 × (1 + 科技等级² × 0.5) × 复杂度系数

复杂度系数计算：
- 单一功能建筑：1.0
- 多功能建筑：1.3-1.8
- 战略建筑：2.0-3.0
```

#### 2.2.2 材料组合策略
```
早期建筑：铜 + 铅（易获取）
中期建筑：+ 石墨 + 硅（需要加工）
后期建筑：+ 钛 + 钍（稀有矿物）
顶级建筑：+ 合金材料（复杂制造链）
```

#### 2.2.3 建造倍率系统
```java
最终建造成本 = 基础成本 × buildCostMultiplier × 环境倍率
buildCostMultiplier 值：
- 核心碎片：2.0（高级核心更昂贵）
- 一般建筑：1.0
- Erekir建筑：0.7（技术先进，成本优化）
```

### 2.3 特殊建造机制

#### 2.3.1 多阶段建造
某些大型建筑需要分阶段建造：
1. **基础建设阶段**：主要框架材料
2. **功能模块阶段**：专用部件和材料
3. **优化升级阶段**：高级材料强化

#### 2.3.2 协同建造要求
部分建筑需要配套建设：
- **发电站 + 电力网络**
- **生产链 + 存储设施**
- **防御体系 + 后勤保障**

## 3. 单位生产消耗系统

### 3.1 单位工厂生产消耗

#### 3.1.1 地面单位工厂
```
建造成本：50铜 + 120铅 + 80硅
电力消耗：1.2功率/秒
单位生产计划：
```

| 单位名称 | 生产时间 | 材料消耗 | 单位能力 | 成本效率 |
|---------|----------|----------|----------|----------|
| 匕首 | 15分钟 | 10硅+10铅 | 基础地面 | 高 |
| 爬虫 | 10分钟 | 8硅+10煤炭 | 自爆单位 | 特殊 |
| 新星 | 40分钟 | 30硅+20铅+20钛 | 重型地面 | 中等 |

#### 3.1.2 空中单位工厂
```
建造成本：60铜 + 70铅
电力消耗：1.2功率/秒
单位生产计划：
```

| 单位名称 | 生产时间 | 材料消耗 | 单位能力 | 成本效率 |
|---------|----------|----------|----------|----------|
| 闪光 | 15分钟 | 15硅 | 基础空中 | 高 |
| 单体 | 35分钟 | 30硅+15铅 | 建造单位 | 特殊 |

#### 3.1.3 海军单位工厂
```
建造成本：150铜 + 130铅 + 120玻璃
电力消耗：1.2功率/秒
环境要求：水面建造
单位生产计划：
```

| 单位名称 | 生产时间 | 材料消耗 | 单位能力 | 成本效率 |
|---------|----------|----------|----------|----------|
| 风险 | 45分钟 | 20硅+35玻璃 | 基础海军 | 中等 |
| 缩回 | 35分钟 | 15硅+20钛 | 快速海军 | 高 |

### 3.2 单位升级消耗系统

#### 3.2.1 加法重构器（T1→T2）
```
建造成本：200铜 + 120铅 + 90硅
电力消耗：3功率/秒
升级时间：每单位约30-60秒
升级路径：
- 匕首 → 法师
- 爬虫 → 蛛形
- 新星 → 堡垒
- 闪光 → 地平线
- 单体 → 聚合
```

#### 3.2.2 乘法重构器（T2→T3）
```
建造成本：450铜 + 350铅 + 650硅 + 450钛
电力消耗：6功率/秒
升级时间：每单位约90-180秒
额外消耗：硅材料强化
```

#### 3.2.3 指数重构器（T3→T4）
```
建造成本：2000铜 + 1500铅 + 2000硅 + 1000钛 + 1000塑钢
电力消耗：13功率/秒
升级时间：每单位约300-600秒
额外消耗：高级合金材料
```

#### 3.2.4 四次方重构器（T4→T5）
```
建造成本：4000铜 + 3000铅 + 5000硅 + 3000钛 + 1000钍 + 1500塑钢 + 1000相织物
电力消耗：25功率/秒
升级时间：每单位约600-1200秒
额外消耗：顶级材料组合
```

### 3.3 Erekir单位组装系统

#### 3.3.1 单位组装器
不同于传统工厂，组装器使用模块化设计：

**坦克组装器**：
- 基础成本：更低的建造成本
- 模块扩展：通过组装模块增强功能
- 灵活配置：可根据需要调整产出

**飞船组装器**：
- 高科技路线：需要大量硅和氧化物
- 能源密集：电力需求更高
- 效率优势：单位时间产出更多

### 3.4 单位生产效率优化

#### 3.4.1 并行生产策略
```
效率公式：
总产出 = Σ(单工厂产出 × 工厂数量 × 效率系数)
效率系数 = Min(电力供应率, 材料供应率, 输出通畅率)
```

#### 3.4.2 成本效益分析
```
单位性价比 = 单位战斗力 / (材料成本 + 时间成本 + 电力成本)
材料成本 = Σ(材料单价 × 消耗数量)
时间成本 = 生产时间 × 时间价值系数
电力成本 = 功率消耗 × 生产时间 × 电力价值系数
```

## 4. 武器弹药消耗系统

### 4.1 物品弹药炮塔

#### 4.1.1 双管炮弹药消耗
```
弹药容量：30发
每发消耗：1个物品
射击间隔：20帧 (1/3秒)
```

| 弹药类型 | 弹药倍率 | 伤害 | 特效 | 消耗效率 |
|---------|----------|------|------|----------|
| 铜 | 2倍 | 9伤害 | 无 | 高 |
| 石墨 | 4倍 | 18伤害 | 穿甲 | 极高 |
| 硅 | 3倍 | 12伤害 | 制导 | 高 |

#### 4.1.2 散射炮弹药消耗
```
弹药容量：30发
每发消耗：1个物品
射击间隔：15帧
特殊机制：防空溅射
```

| 弹药类型 | 弹药倍率 | 溅射伤害 | 溅射半径 | 消耗效率 |
|---------|----------|----------|----------|----------|
| 废料 | 5倍 | 33伤害 | 24格 | 极高 |
| 铅 | 4倍 | 27伤害 | 24格 | 高 |
| 玻璃 | 3倍 | 30伤害 | 28格 | 中等 |

#### 4.1.3 高级炮塔弹药消耗

**蜂群炮**：
- 弹药容量：30发
- 消耗弹药：爆炸混合物、燃烧剂
- 特殊机制：导弹追踪
- 消耗效率：低（高伤害补偿）

**连射炮**：
- 弹药容量：40发
- 射击模式：4连发
- 消耗倍率：高射速高消耗
- 适用场景：密集防御

### 4.2 液体弹药炮塔

#### 4.2.1 波浪炮液体消耗
```
液体容量：20单位
射击消耗：0.2单位/发
射击间隔：5帧（极快）
```

| 液体类型 | 伤害类型 | 特殊效果 | 消耗效率 |
|---------|----------|----------|----------|
| 水 | 压力伤害 | 击退 | 中等 |
| 熔渣 | 火焰伤害 | 燃烧持续伤害 | 高 |
| 油 | 火焰伤害 | 可燃区域 | 中等 |
| 冷冻液 | 冰冻伤害 | 减速冰冻 | 高 |

#### 4.2.2 海啸炮高级液体消耗
```
液体容量：80单位
射击消耗：2单位/发
特殊机制：液体混合效果
```

### 4.3 电力武器系统

#### 4.3.1 电弧炮电力消耗
```
电力容量：基于电网供应
射击消耗：6功率单位/发
充能时间：60帧
特殊机制：链式闪电
```

#### 4.3.2 激光炮塔电力消耗
```
持续消耗：8功率/秒
激光持续：可持续发射
冷却需求：液体冷却系统
```

### 4.4 弹药消耗优化策略

#### 4.4.1 弹药效率计算
```
弹药效率 = (总伤害输出 × 命中率) / (弹药成本 × 消耗时间)
最优弹药选择 = Max(弹药效率) where 弹药可获取性 > 阈值
```

#### 4.4.2 弹药后勤系统
```
弹药需求预测 = 战斗强度 × 炮塔数量 × 射击频率 × 安全系数
安全库存 = 弹药需求预测 × 补给间隔 × 1.5
```

## 5. 建筑运行消耗系统

### 5.1 电力消耗体系

#### 5.1.1 基础电力消耗
| 建筑类型 | 功率需求 | 功能 | 优先级 |
|---------|----------|------|-------|
| 加工建筑 | 0.5-4功率 | 生产 | 高 |
| 钻机 | 0.15-2功率 | 采集 | 高 |
| 炮塔 | 1-8功率 | 防御 | 中 |
| 辅助设施 | 0.1-1功率 | 支持 | 低 |

#### 5.1.2 电力效率机制
```java
建筑效率 = Min(电力供应率, 1.0)
电力供应率 = 实际供电 / 需求电力
当供电不足时：
- 效率线性下降
- 产出按比例减少
- 消耗相应减少
```

#### 5.1.3 电力网络负载均衡
```
电力分配算法：
1. 计算总需求和总供应
2. 计算负载比率 = 总供应 / 总需求
3. 按优先级分配电力
4. 剩余电力按比例分配
```

### 5.2 物品持续消耗

#### 5.2.1 生产建筑物品消耗
| 建筑名称 | 消耗物品 | 消耗速率 | 产出物品 | 转换效率 |
|---------|----------|----------|----------|----------|
| 石墨压制机 | 2煤炭 | 90帧/次 | 1石墨 | 50% |
| 硅熔炉 | 1煤炭+2沙子 | 40帧/次 | 1硅 | 33% |
| 多级压制机 | 3煤炭 | 30帧/次 | 2石墨 | 67% |
| 塑钢压制机 | 2钛 | 60帧/次 | 1塑钢 | 50% |

#### 5.2.2 消耗触发机制
```java
public void trigger(Building build){
    for(var stack : items){
        build.items.remove(stack.item,
            Math.round(stack.amount * multiplier.get(build)));
    }
}

public float efficiency(Building build){
    return build.items.has(items, multiplier.get(build)) ? 1f : 0f;
}
```

#### 5.2.3 物品消耗优化
```
消耗缓冲机制：
- 当物品充足时：正常效率生产
- 当物品不足时：降低效率或停产
- 批量消耗：减少频繁物品移动开销
```

### 5.3 液体持续消耗

#### 5.3.1 冷却液体消耗
| 建筑类型 | 冷却液需求 | 消耗速率 | 效率提升 |
|---------|------------|----------|----------|
| 炮塔 | 0.1-0.5/秒 | 持续 | 射速+20-60% |
| 钻机 | 0.05-0.1/秒 | 持续 | 速度+60-80% |
| 反应堆 | 0.2-1.0/秒 | 持续 | 安全运行 |

#### 5.3.2 生产液体消耗
```
液体消耗计算：
实际消耗 = 基础消耗 × 生产速度 × 效率
液体效率 = Min(实际供应 / 需求供应, 1.0)
```

#### 5.3.3 液体混合消耗
某些高级建筑支持多种液体消耗：
- **主要液体**：生产必需
- **辅助液体**：效率提升
- **冷却液体**：安全保障

### 5.4 建筑消耗优先级

#### 5.4.1 消耗优先级排序
```
优先级层次：
1. 生命维持（核心运行）
2. 基础防御（炮塔）
3. 资源生产（钻机、工厂）
4. 高级制造（合金、特殊材料）
5. 研究发展（科技设施）
```

#### 5.4.2 动态优先级调整
```java
优先级调整因子：
- 战斗状态：防御建筑优先级+50%
- 资源短缺：生产建筑优先级+30%
- 科技研究：研究设施优先级+20%
```

## 6. 科技研究消耗系统

### 6.1 科技树结构与消耗

#### 6.1.1 Serpulo科技树主要分支
```
基础分支：
├── 生产科技（铜、铅、石墨为主）
├── 军事科技（钛、钍、合金为主）
├── 电力科技（硅、导体材料为主）
└── 高级科技（稀有材料组合）
```

#### 6.1.2 Erekir科技树特点
```
技术路线：
├── 热力工程（氧化物、碳化物）
├── 电解化学（气体、液体转换）
├── 材料科学（高级合金）
└── 能源技术（先进反应堆）
```

### 6.2 研究成本计算公式

#### 6.2.1 基础成本公式
```java
研究成本计算：
基础成本 = 60 × researchCostMultiplier +
           Math.pow(requirement.amount, 1.11) × 20 ×
           researchCostMultiplier ×
           itemMultiplier

最终成本 = Math.round(基础成本, 10)
```

#### 6.2.2 成本倍率系统
| 建筑类型 | 研究成本倍率 | 设计理念 |
|---------|--------------|----------|
| 基础建筑 | 1.0 | 标准成本 |
| 核心建筑 | 0.07-0.11 | 核心折扣 |
| 高级建筑 | 1.5-3.0 | 技术溢价 |
| 特殊建筑 | 0.5-2.0 | 差异化定价 |

#### 6.2.3 累积成本效应
```
科技依赖链成本：
总研究成本 = Σ(直接成本 + 前置科技成本)
科技深度影响：
深层科技 = 基础成本 × (1 + 深度 × 0.2)
```

### 6.3 研究目标系统

#### 6.3.1 目标类型分类
```java
Research目标：前置科技解锁
Produce目标：生产指定数量
SectorCapture目标：占领特定扇区
BlockDestroy目标：摧毁特定建筑
```

#### 6.3.2 复合目标机制
高级科技通常需要多个目标：
- **材料目标**：生产足够的稀有材料
- **技术目标**：解锁前置科技
- **实战目标**：在实际战斗中验证

### 6.4 研究进度与消耗优化

#### 6.4.1 增量研究系统
```java
研究进度保存：
Core.settings.put("req-" + content.name + "-" + item.name, amount);
支持断续研究，避免资源浪费
```

#### 6.4.2 研究效率策略
```
效率优化建议：
1. 专注单线发展：避免资源分散
2. 关键节点突破：优先核心技术
3. 实用性优先：先解锁产出建筑
4. 防御保障：确保科技安全
```

## 7. 核心升级消耗系统

### 7.1 Serpulo核心升级路径

#### 7.1.1 三级核心对比
| 核心等级 | 建造成本 | 容量 | 生命值 | 护甲 | 特殊能力 |
|---------|----------|------|--------|------|----------|
| 核心碎片 | 1000铜+800铅 | 4000 | 1100 | 0 | 基础核心 |
| 核心基础 | 3000铜+3000铅+2000硅 | 9000 | 3500 | 0 | 中级核心 |
| 核心核心 | 8000铜+8000铅+5000硅+4000钍 | 13000 | 6000 | 0 | 高级核心 |

#### 7.1.2 升级成本递增规律
```
升级成本倍率：
T1→T2：×3（基础扩张）
T2→T3：×2.67（深度强化）
材料多样化：
T1：基础材料（铜、铅）
T2：+加工材料（硅）
T3：+稀有材料（钍）
```

### 7.2 Erekir核心升级系统

#### 7.2.1 双级核心特点
| 核心等级 | 建造成本 | 容量 | 生命值 | 护甲 | 技术特点 |
|---------|----------|------|--------|------|----------|
| 核心堡垒 | 1000石墨+1000硅+800铍 | 2000 | 4500 | 5 | 先进基础 |
| 核心卫城 | 6000铍+5000硅+5000钨+3000碳化物+3000氧化物 | 4000 | 30000 | 15 | 终极核心 |

#### 7.2.2 Erekir升级特色
```
技术优势：
- 更高的护甲值
- 先进材料应用
- 特殊功能集成
- 环境适应性强

成本特点：
- 基础成本较低
- 高级材料密集
- 技术含量更高
```

### 7.3 核心功能扩展消耗

#### 7.3.1 单位容量扩展
```
单位容量公式：
基础容量 = 核心等级 × 基础倍率
最大容量 = 基础容量 + 核心单位容量修正
容量扩展成本 = 核心建造成本的一部分
```

#### 7.3.2 存储容量提升
```
存储扩展效益：
核心碎片：4000→足够早期发展
核心基础：9000→支持中期扩张
核心核心：13000→满足后期需求
核心卫城：4000→精简高效
```

### 7.4 核心升级策略

#### 7.4.1 升级时机选择
```
升级决策因子：
1. 资源积累充足（2-3倍成本储备）
2. 防御体系完善（确保升级安全）
3. 生产链稳定（支持新需求）
4. 战略需求明确（容量/能力不足）
```

#### 7.4.2 升级风险管理
```
风险控制策略：
- 渐进式资源积累
- 防御优先建设
- 备用核心预建
- 紧急响应计划
```

## 8. 特殊消耗机制

### 8.1 修复与重建消耗

#### 8.1.1 建筑修复机制
```
修复消耗公式：
修复成本 = 原建造成本 × 损伤比例 × 修复效率
损伤比例 = (最大生命值 - 当前生命值) / 最大生命值
修复效率 = 0.3-0.7（根据修复方式）
```

#### 8.1.2 修复点建筑
| 修复建筑 | 修复速度 | 修复范围 | 能源消耗 |
|---------|----------|----------|----------|
| 修复点 | 中等 | 局部 | 低 |
| 修复炮塔 | 快速 | 定向 | 中等 |
| 修复无人机 | 移动修复 | 全图 | 高 |

#### 8.1.3 重建vs修复策略
```
决策矩阵：
修复适用：损伤<70%，材料短缺
重建适用：损伤>70%，材料充足
成本对比：修复成本 vs 重建成本 + 拆除成本
```

### 8.2 载荷系统消耗

#### 8.2.1 载荷传输消耗
```
载荷建筑能耗：
载荷输送机：1-2功率
载荷路由器：0.5功率
载荷装载器：2-4功率
```

#### 8.2.2 载荷单位消耗
载荷单位建造需要：
- **基础材料**：构建单位本体
- **载荷容量**：承载能力相关
- **推进系统**：移动和操控

### 8.3 逻辑系统消耗

#### 8.3.1 逻辑处理器
```
运行消耗：
基础功耗：微量电力
复杂计算：额外电力消耗
指令复杂度影响功耗
```

#### 8.3.2 逻辑控制成本
```
逻辑系统价值：
自动化收益 >> 额外消耗成本
典型应用：
- 资源管理自动化
- 防御系统智能化
- 生产链优化控制
```

### 8.4 护盾系统消耗

#### 8.4.1 护盾发生器
| 护盾类型 | 建造成本 | 功率消耗 | 防护能力 | 覆盖范围 |
|---------|----------|----------|----------|----------|
| 力场投射器 | 125铜+75硅 | 2功率 | 基础 | 小范围 |
| 冲击护盾 | 450钛+350硅+300塑钢 | 13功率 | 高级 | 大范围 |

#### 8.4.2 护盾运行机制
```
护盾消耗模式：
持续消耗：维持护盾存在
冲击消耗：受到攻击时额外消耗
恢复消耗：护盾重建时的能量需求
```

## 9. 资源消耗平衡设计

### 9.1 消耗优先级体系

#### 9.1.1 全局优先级设计
```
优先级金字塔：
┌──────────────┐
│   核心生存   │ Priority 1
├──────────────┤
│   基础防御   │ Priority 2
├──────────────┤
│   资源生产   │ Priority 3
├──────────────┤
│   科技发展   │ Priority 4
├──────────────┤
│   扩张建设   │ Priority 5
└──────────────┘
```

#### 9.1.2 动态优先级调整
```java
实时优先级 = 基础优先级 × 情境修正系数
情境修正系数：
- 战斗状态：防御+100%
- 资源危机：生产+50%
- 科技竞赛：研发+30%
- 扩张期：建设+20%
```

### 9.2 资源价值与消耗比例

#### 9.2.1 资源价值模型
```
资源综合价值 = 稀有度 × 获取难度 × 应用广度 × 战略重要性

价值排序（Serpulo）：
钍 > 塑钢 > 钛 > 硅 > 石墨 > 铅 > 铜

价值排序（Erekir）：
碳化物 > 氧化物 > 钨 > 铍 > 硅 > 石墨
```

#### 9.2.2 消耗配比策略
```
理想消耗配比：
基础材料（铜、铅）：60-70%
加工材料（石墨、硅）：20-25%
稀有材料（钛、钍）：5-10%
特殊材料（合金）：2-5%
```

### 9.3 效率曲线设计

#### 9.3.1 边际效益递减
```
效率递减模型：
效率(x) = a × log(x + 1) + b
其中 x = 投入资源量
参数 a, b 根据建筑类型调整

实际应用：
- 初期投入：高回报率
- 中期投入：稳定回报
- 后期投入：边际递减
```

#### 9.3.2 效率阈值设计
```
关键效率节点：
50%效率：基本可用
75%效率：实用水平
90%效率：高效运行
100%效率：理想状态
```

### 9.4 风险收益平衡

#### 9.4.1 风险评估模型
```
建筑风险指数 = f(建造成本, 维护成本, 战略价值, 脆弱性)
高风险建筑：高成本 + 高价值 + 高脆弱性
低风险建筑：低成本 + 稳定价值 + 高耐久性
```

#### 9.4.2 收益补偿机制
```
高风险补偿策略：
- 更高的产出效率
- 独特的功能优势
- 战略位置加成
- 技术跃升价值
```

## 10. 数值设计原则与实践

### 10.1 消耗成本梯度设计

#### 10.1.1 指数增长模型
```
成本增长公式：
C(n) = C₀ × k^n
其中：
C₀ = 基础成本
k = 增长系数 (1.3-2.0)
n = 科技等级

实际应用：
T1建筑：C₀
T2建筑：C₀ × 1.5
T3建筑：C₀ × 2.5
T4建筑：C₀ × 4.0
```

#### 10.1.2 非线性成本分布
```
复杂度增长：
简单建筑：线性增长
中等建筑：平方根增长
复杂建筑：指数增长
战略建筑：定制化定价
```

### 10.2 时间成本与资源成本平衡

#### 10.2.1 时间价值模型
```
时间成本计算：
时间价值 = 生产时间 × 时间价值系数 × 机会成本
时间价值系数：
- 早期：低（时间充裕）
- 中期：中（平衡发展）
- 后期：高（时间紧迫）
```

#### 10.2.2 快速通道设计
```
加速选项：
1. 资源换时间：额外材料投入
2. 电力换时间：超频运行
3. 技术换时间：高级建筑
4. 规模换时间：并行建设
```

### 10.3 多资源消耗组合原则

#### 10.3.1 资源组合策略
```
组合设计目标：
1. 避免单一资源瓶颈
2. 促进全面资源开发
3. 增加战略深度
4. 平衡不同发展路径
```

#### 10.3.2 组合复杂度递增
```
T1建筑：1-2种主要材料
T2建筑：2-3种材料 + 1种稀有材料
T3建筑：3-4种材料 + 2种稀有材料
T4建筑：4-5种材料 + 3种稀有材料 + 特殊组件
```

### 10.4 平衡性测试与调优

#### 10.4.1 平衡性指标
```
关键平衡指标：
1. 资源利用率均衡
2. 建造时间合理性
3. 成本效益对等
4. 战略价值匹配
5. 风险收益相称
```

#### 10.4.2 迭代优化流程
```
平衡优化步骤：
1. 数据收集：玩家行为分析
2. 瓶颈识别：找出不平衡点
3. 模型调整：修正参数
4. 测试验证：小规模测试
5. 全面部署：应用到游戏
```

## 11. 实战应用与策略建议

### 11.1 早期发展资源分配

#### 11.1.1 启动期优先级
```
第一阶段（0-30分钟）：
1. 核心防御：双管炮×2-3
2. 基础生产：石墨压制机×1
3. 电力保障：燃烧发电机×1-2
4. 资源采集：机械钻机×3-4

资源配比：
铜：60%（建筑主体）
铅：30%（防御强化）
煤炭：10%（能源供应）
```

#### 11.1.2 扩张期策略
```
第二阶段（30-90分钟）：
1. 产能升级：气动钻机替换
2. 防御升级：散射炮部署
3. 生产扩展：硅熔炉建设
4. 电力升级：太阳能板配合

资源配比调整：
铜：45%
铅：25%
石墨：15%
硅：10%
其他：5%
```

### 11.2 中期资源优化配置

#### 11.2.1 专业化生产线
```
中期重点（90-300分钟）：
1. 专业钻机：激光钻机部署
2. 高级防御：冰雹炮、蜂群炮
3. 单位生产：地面工厂建设
4. 科技推进：关键技术解锁

资源优化目标：
- 单位时间产出最大化
- 防御纵深体系建立
- 科技树关键节点突破
```

#### 11.2.2 瓶颈识别与解决
```
常见瓶颈：
1. 电力不足：扩建发电设施
2. 钛矿稀缺：多点开采布局
3. 运输堵塞：传送带网络优化
4. 存储不足：仓库建设规划

解决方案优先级：
高影响+易解决 > 高影响+难解决 > 低影响+易解决
```

### 11.3 后期高级资源管理

#### 11.3.1 战略资源调配
```
后期重点（300分钟+）：
1. 稀有材料：钍、塑钢、相织物
2. 高级单位：T4-T5单位生产
3. 超级建筑：冲击反应堆等
4. 科技完成：全科技树解锁

调配策略：
- 集中化生产：关键材料专门生产线
- 分布式存储：多点备份重要资源
- 智能化调度：逻辑控制优化流程
```

#### 11.3.2 资源安全保障
```
安全措施：
1. 多重备份：关键设施冗余建设
2. 防御深度：多层防御体系
3. 快速响应：紧急生产能力
4. 战略储备：关键资源库存

风险管控：
- 单点故障预防
- 供应链安全
- 敌方破坏应对
- 自然灾害准备
```

### 11.4 特殊场景应对策略

#### 11.4.1 资源匮乏应对
```
资源危机管理：
1. 优先级重排：生存>发展
2. 效率最大化：减少浪费
3. 替代方案：寻找替代资源
4. 紧急措施：战略储备动用

具体措施：
- 停止非必要建设
- 优化现有生产链
- 寻找新资源点
- 提高资源利用率
```

#### 11.4.2 战时资源调配
```
战争状态资源策略：
1. 军工优先：弹药、修复材料
2. 防御强化：护甲、护盾
3. 单位生产：战斗单位优先
4. 后勤保障：补给线安全

战时资源配比：
军事：60%（防御+进攻）
生产：25%（维持基本产能）
科技：10%（关键技术）
储备：5%（应急使用）
```

## 12. 结论与设计启示

### 12.1 系统设计优势总结

#### 12.1.1 多层次消耗体系
Mindustry的资源消耗系统通过多个维度的设计，形成了丰富而平衡的游戏体验：

1. **时间维度**：一次性建造成本与持续运营成本的平衡
2. **复杂度维度**：从简单的基础建筑到复杂的高级设施
3. **战略维度**：短期效益与长期发展的权衡
4. **风险维度**：高风险高收益的挑战设计

#### 12.1.2 渐进式复杂度管理
```
新手友好性：
- 初期低成本：快速上手
- 明确目标：清晰的升级路径
- 容错机制：允许试错和学习

高级玩家挑战：
- 复杂优化：多系统协调
- 效率极限：性能优化挑战
- 创新组合：新颖策略发现
```

### 12.2 平衡设计原则验证

#### 12.2.1 价值创造循环
```
资源投入 → 能力提升 → 效率增长 → 更多资源 → 更大投入
每个环节都有明确的价值转换：
- 投入有意义：每次消耗都带来实际收益
- 收益可感知：玩家能明确感受到提升
- 风险可控：失败成本在可接受范围
```

#### 12.2.2 选择空间设计
```
多样化路径：
1. 经济流：专注资源积累和效率
2. 军事流：快速建立强大防御
3. 科技流：优先解锁高级技术
4. 平衡流：各方面均衡发展

每种路径都有其独特优势和挑战，增加了游戏的重玩价值。
```

### 12.3 可扩展性设计思考

#### 12.3.1 模块化系统架构
```
系统模块化设计优势：
- 独立平衡：各子系统可独立调整
- 功能扩展：新建筑类型易于添加
- 数据驱动：通过配置调整平衡性
- 跨平台一致：核心逻辑统一
```

#### 12.3.2 数据驱动平衡
```java
// 示例：建筑成本配置
requirements(Category.production, with(
    Items.copper, 75,    // 基础材料
    Items.lead, 30       // 结构材料
));

// 研究成本倍率配置
researchCostMultiplier = 0.8f;

// 运行消耗配置
consumePower(1.2f);
consumeItems(with(Items.coal, 2));
```

### 12.4 未来优化方向

#### 12.4.1 智能化资源管理
```
潜在改进方向：
1. AI辅助优化：自动识别瓶颈
2. 预测性分析：资源需求预测
3. 动态调整：根据情况自动优化
4. 学习系统：从玩家行为学习
```

#### 12.4.2 深度策略扩展
```
策略深度增强：
1. 季节性变化：资源产出周期性变化
2. 市场机制：资源价格动态变化
3. 技术竞赛：与AI或其他玩家竞争
4. 长期规划：跨关卡的资源积累
```

### 12.5 设计经验总结

#### 12.5.1 核心设计原则
```
成功要素：
1. 清晰的价值传递：玩家明确知道投入产出
2. 渐进的复杂度：学习曲线平滑
3. 多样的选择：不同策略都有价值
4. 平衡的风险：高风险匹配高收益
5. 持续的成长：长期目标保持动力
```

#### 12.5.2 避免的设计陷阱
```
常见问题：
1. 单一最优解：避免只有一种有效策略
2. 无意义消耗：每次资源投入都应有价值
3. 不可逆错误：避免无法挽回的致命错误
4. 复杂度爆炸：避免系统过于复杂
5. 数值膨胀：保持数值在合理范围
```

---

## 附录：详细数值表格

### A.1 完整建筑建造成本表
[此处可以插入详细的建筑成本表格]

### A.2 单位生产成本明细
[此处可以插入单位生产的详细成本]

### A.3 科技研究成本计算器
[此处可以插入科技树成本计算公式和示例]

### A.4 资源价值参考表
[此处可以插入资源相对价值评估]

---

本策划案深入分析了Mindustry资源消耗系统的每个方面，为理解和设计类似系统提供了完整的理论基础和实践指导。系统的深度和平衡性使其成为工业建造游戏中资源消耗系统设计的优秀范例。