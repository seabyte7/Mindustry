# Mindustry 游戏模式设计文档

## 文档概述

本文档详细阐述Mindustry的五大核心游戏模式设计，分析每种模式的设计理念、玩法机制、规则配置以及目标体验，为不同类型的玩家提供差异化的游戏体验。

## 1. 游戏模式设计理念

### 1.1 模式设计哲学

Mindustry的游戏模式设计遵循**渐进式体验**和**多元化满足**两大核心原则：

#### 渐进式体验设计
- **学习曲线友好**：从简单的生存模式逐步过渡到复杂的自定义模式
- **技能迁移性**：在不同模式间技能可以相互转化和应用
- **深度递增**：每种模式都有从新手到专家的成长空间

#### 多元化需求满足
- **竞争型玩家**：PvP模式提供技巧对抗
- **创造型玩家**：沙盒和编辑器模式提供自由创作空间
- **挑战型玩家**：生存和进攻模式提供不同类型的挑战
- **社交型玩家**：多人模式支持合作与竞争

### 1.2 技术架构支持

**核心类**：`Gamemode.java`、`Rules.java`、`State.java`

```java
// 模式定义枚举
public enum Gamemode {
    survival,    // 生存模式
    sandbox,     // 沙盒模式
    attack,      // 进攻模式
    pvp,         // PvP模式
    editor       // 编辑器模式
}
```

## 2. 生存模式（Survival Mode）

### 2.1 设计定位

生存模式是Mindustry的**核心游戏模式**，体现了游戏最原始和最纯粹的塔防精神。这是新玩家的入门体验，也是老玩家回归经典的选择。

### 2.2 核心机制设计

#### 波次系统
**设计理念**：创造紧张感与准备期的节奏循环

**技术实现**：`WaveSpawner.java`、`SpawnGroup.java`、`Waves.java`

**关键参数配置**：
```java
rules.waveTimer = true;          // 启用波次计时器
rules.waves = true;              // 启用波次系统
rules.waveSpacing = 2分钟;       // 波次间隔
rules.waitEnemies = false;       // 不等待敌人清除
```

#### 波次生成规律
1. **难度递增曲线**
   - 前期（1-10波）：单一兵种，熟悉基础机制
   - 中期（11-30波）：混合兵种，考验策略组合
   - 后期（31-50波）：Boss单位，测试终极防御
   - 无限期（50+波）：持续升级，挑战极限

2. **兵种搭配策略**
   - **地面主力**：匕首→狼牙棒→堡垒→权杖→统治
   - **空中威胁**：闪光→地平线→顶点→影→日食
   - **特殊单位**：爬虫（快速）、蜘蛛（攻城）、Boss（终极挑战）

#### 资源约束设计
**设计目标**：通过资源稀缺性增加策略深度

- **有限资源点**：地图资源点数量和质量有限
- **消耗性建造**：每次建造都需要消耗实际资源
- **效率优化需求**：必须优化生产链才能支撑防御需求
- **风险管理**：资源投资失误会带来严重后果

### 2.3 玩家体验设计

#### 目标体验
1. **紧张感**：波次倒计时创造的时间压力
2. **成就感**：成功抵御强力攻击的满足感
3. **策略感**：资源配置和防御布局的思考乐趣
4. **成长感**：通过失败学习，逐步提升应对能力

#### 学习曲线设计
- **第1-3波**：学习基础建造和资源收集
- **第4-8波**：掌握防御配置和炮塔使用
- **第9-15波**：理解资源优化和生产链
- **第16-25波**：学习高级战术和应急处理
- **第26+波**：追求极致优化和创新策略

### 2.4 平衡性设计

#### 难度调节机制
- **地图预设难度**：通过地形和资源分布控制基础难度
- **波次强度曲线**：数学公式确保难度平滑递增
- **玩家适应性**：失败后可调整策略重新挑战

#### 关键平衡点
1. **资源产出 vs 消耗需求**：确保玩家有足够资源应对挑战
2. **防御能力 vs 攻击强度**：防御优势不能过大或过小
3. **准备时间 vs 战斗强度**：波次间隔给予合理的建设时间

## 3. 沙盒模式（Sandbox Mode）

### 3.1 设计定位

沙盒模式是**创造性表达**的完美平台，移除了资源限制和敌人威胁，让玩家专注于建造、实验和优化。这是从"游戏者"向"创造者"转变的关键模式。

### 3.2 核心机制设计

#### 无限资源系统
**设计理念**：移除约束，释放创造力

**技术实现**：
```java
rules.infiniteResources = true;     // 无限资源
rules.allowEditRules = true;        // 允许编辑规则
rules.waves = true;                 // 可选择是否启用波次
rules.waveTimer = false;            // 手动控制波次时机
```

#### 自由度最大化
1. **建造自由**：
   - 无资源成本限制
   - 无科技解锁要求
   - 无地形建造限制
   - 支持快速建造模式

2. **规则自定义**：
   - 动态修改游戏规则
   - 调整单位属性
   - 控制环境参数
   - 设置特殊条件

3. **实验环境**：
   - 测试复杂设计方案
   - 验证理论计算
   - 学习高级技巧
   - 开发新战术

### 3.3 应用场景设计

#### 教育学习场景
1. **机制学习**：理解各种建筑的工作原理
2. **优化实验**：测试不同配置的效率差异
3. **创意验证**：快速验证设计想法的可行性
4. **问题复现**：重现特定问题进行分析

#### 创作展示场景
1. **艺术建造**：创造美观的装饰性建筑群
2. **工程挑战**：设计复杂的自动化系统
3. **教学演示**：制作教学用的示例工厂
4. **社区分享**：创建可分享的精美作品

### 3.4 创造性支持工具

#### 快速建造工具
- **区域复制**：复制粘贴建筑群
- **模式刷子**：快速绘制大面积相同建筑
- **自动连接**：智能连接传送带和管道
- **撤销重做**：支持多步骤的操作撤销

#### 调试辅助功能
- **信息显示**：实时显示各种数据指标
- **流量可视化**：显示资源流动路径和速度
- **性能监测**：监控系统效率和瓶颈
- **逻辑调试**：可视化逻辑程序执行状态

## 4. 进攻模式（Attack Mode）

### 4.1 设计定位

进攻模式是传统塔防的**逆向思维**实现，玩家从防守方转变为攻击方，体验RTS式的征服快感。这种角色转换提供了全新的战略视角和挑战类型。

### 4.2 核心机制设计

#### 角色转换系统
**设计理念**：从防守思维转向进攻思维

**技术配置**：
```java
rules.attackMode = true;             // 启用进攻模式
rules.waveSpacing = 2f * Time.toMinutes; // 调整节奏
rules.waveTeam.rules().infiniteResources = true; // AI无限资源
rules.enemyCoreBuildRadius = 600f;   // 敌方核心保护区域
```

#### 进攻目标设计
1. **主要目标**：摧毁敌方核心建筑
2. **次要目标**：
   - 破坏关键生产设施
   - 切断资源供应链
   - 消除防御工事
   - 控制战略要点

#### 胜利条件设计
- **直接胜利**：成功摧毁所有敌方核心
- **时间胜利**：在规定时间内造成足够伤害
- **控制胜利**：占领并保持关键区域一定时间

### 4.3 战略层面设计

#### 兵种选择策略
1. **快速突击流**：
   - 核心单位：闪光、匕首、新星
   - 战术特点：快速穿插，寻找防御薄弱点
   - 适用场景：防御分散、反应较慢的敌人

2. **重装推进流**：
   - 核心单位：堡垒、统治、毒瘤
   - 战术特点：正面硬撼，逐步推进
   - 适用场景：防御集中但不够坚固的敌人

3. **空中制霸流**：
   - 核心单位：地平线、顶点、日食
   - 战术特点：避开地面防御，直击要害
   - 适用场景：地面防御强但防空薄弱的敌人

#### 资源管理策略
- **快速扩张**：早期快速建立多个资源点
- **军工优先**：优先建设单位生产设施
- **后勤保障**：确保前线单位的持续补给
- **灵活调配**：根据战况调整资源分配

### 4.4 AI对手设计

#### 防御AI行为模式
**技术实现**：`BaseBuilderAI.java`、`RtsAI.java`

1. **建造AI**：
   - 自动建设防御设施
   - 优化资源生产链
   - 响应玩家攻击进行加固

2. **战术AI**：
   - 识别玩家攻击模式
   - 动态调整防御配置
   - 派遣部队进行反击

#### 难度分级设计
- **简单AI**：固定防御模式，反应较慢
- **普通AI**：基础自适应，有一定战术变化
- **困难AI**：高度智能，会主动出击
- **专家AI**：近乎完美的资源利用和战术执行

## 5. PvP模式（Player vs Player）

### 5.1 设计定位

PvP模式是Mindustry的**竞技核心**，将建造策略与实时对抗相结合，创造了独特的竞技体验。这种模式最能体现玩家的综合实力和创新能力。

### 5.2 核心机制设计

#### 竞技规则配置
**技术设置**：
```java
rules.pvp = true;                    // 启用PvP
rules.enemyCoreBuildRadius = 600f;   // 核心保护区
rules.buildCostMultiplier = 1f;      // 标准建造成本
rules.buildSpeedMultiplier = 1f;     // 标准建造速度
rules.unitBuildSpeedMultiplier = 2f; // 加快单位生产
rules.attackMode = true;             // 启用攻击模式
```

#### 对称性设计原则
1. **起始条件对称**：
   - 相同的初始资源
   - 对称的地图布局
   - 等距的资源点分布
   - 相同的科技可用性

2. **机会对称**：
   - 相同的扩张机会
   - 等价的防御位置
   - 对等的进攻路线
   - 平衡的地形优势

### 5.3 竞技平衡设计

#### 时间节奏控制
1. **早期阶段（0-5分钟）**：
   - 重点：快速建立基础经济
   - 关键决策：资源点选择和初期防御布局
   - 风险管理：避免过度投资防御影响发展

2. **中期阶段（5-15分钟）**：
   - 重点：扩张与防御的平衡
   - 关键决策：科技发展路线和军事投入比例
   - 战术选择：骚扰、防守还是全面进攻

3. **后期阶段（15分钟+）**：
   - 重点：决定性战役的准备和执行
   - 关键因素：高级单位的数量和质量
   - 胜负关键：战术执行和应变能力

#### 反馈机制设计
- **经济优势转化**：经济领先应能转化为军事优势
- **战术优势回报**：优秀的战术执行应获得相应回报
- **失误惩罚机制**：重大失误应有明显的负面后果
- **逆转可能性**：保留一定的逆转空间，避免游戏过早结束

### 5.4 社交功能设计

#### 匹配系统
- **技能匹配**：根据历史表现匹配相近水平对手
- **模式选择**：支持1v1、2v2、多人混战等模式
- **自定义房间**：支持朋友间的自定义对战
- **观战系统**：允许其他玩家观战学习

#### 竞技生态建设
- **排行榜系统**：展示顶级玩家的成就
- **回放系统**：保存精彩对局供学习分析
- **锦标赛支持**：为社区赛事提供技术支持
- **数据统计**：详细的对战数据分析

## 6. 编辑器模式（Editor Mode）

### 6.1 设计定位

编辑器模式是**内容创作**的核心工具，让玩家从游戏的消费者转变为创造者。这个模式的存在极大地延长了游戏的生命周期，并建立了活跃的创作者社区。

### 6.2 核心功能设计

#### 地图编辑功能
**技术支持**：`Editor.java`、`EditorTool.java`

**基础编辑工具**：
```java
rules.infiniteResources = true;     // 无限资源
rules.instantBuild = true;          // 瞬间建造
rules.editor = true;                // 编辑器模式标识
rules.waves = false;                // 默认关闭波次
rules.waveTimer = false;            // 关闭自动计时
```

1. **地形编辑**：
   - 地板类型绘制
   - 墙体和障碍物放置
   - 资源点分布设置
   - 装饰物品添加

2. **建筑预设**：
   - 预建防御工事
   - 预设生产设施
   - 配置起始资源
   - 设置团队归属

3. **游戏逻辑**：
   - 胜利条件设定
   - 特殊规则配置
   - 事件触发器设置
   - 脚本逻辑编写

#### 高级创作工具
1. **区域工具**：
   - 框选区域操作
   - 区域复制粘贴
   - 区域填充功能
   - 区域变换操作

2. **导入导出**：
   - 地图文件保存
   - 蓝图系统支持
   - 社区资源导入
   - 批量操作工具

### 6.3 创作流程设计

#### 新手友好的创作流程
1. **模板选择**：提供多种预设模板快速开始
2. **引导教程**：逐步教学各种编辑工具的使用
3. **实时预览**：编辑过程中实时查看效果
4. **错误检查**：自动检测常见的设计问题

#### 高级创作支持
1. **脚本系统**：支持JavaScript编写复杂逻辑
2. **模块化设计**：支持可复用的设计组件
3. **版本控制**：支持设计的版本管理和回滚
4. **协作编辑**：支持多人协作创作大型地图

### 6.4 社区生态支持

#### 分享机制
- **一键分享**：简单快捷的作品分享流程
- **标签系统**：便于作品分类和搜索
- **评分评论**：社区反馈机制
- **推荐算法**：优秀作品的推广机制

#### 质量保证
- **审核机制**：确保分享内容的质量和适宜性
- **举报系统**：处理不当内容的快速通道
- **创作者认证**：对优秀创作者的官方认可
- **奖励机制**：激励高质量内容创作

## 7. 模式间的关联设计

### 7.1 技能迁移性

#### 核心技能的通用性
1. **资源管理**：在所有模式中都是基础技能
2. **建筑配置**：防御和生产的基本原理相通
3. **战术思维**：攻防转换的战略眼光培养
4. **系统优化**：效率追求在各模式中的体现

#### 模式特有技能
- **生存模式**：时间管理和风险控制
- **沙盒模式**：创造力和设计能力
- **进攻模式**：攻击节奏和兵种搭配
- **PvP模式**：心理对抗和应变能力
- **编辑器模式**：内容创作和逻辑设计

### 7.2 学习路径设计

#### 推荐学习顺序
1. **入门路径**：生存模式 → 沙盒模式 → 进攻模式
2. **竞技路径**：生存模式 → 进攻模式 → PvP模式
3. **创作路径**：沙盒模式 → 编辑器模式 → 高级创作

#### 跨模式挑战设计
- **技能验证**：在不同模式中验证掌握的技能
- **创意应用**：将一种模式的创意应用到其他模式
- **综合挑战**：结合多种模式特点的复合挑战

## 8. 游戏模式的未来发展

### 8.1 新模式的设计空间
1. **合作塔防**：多人协作抵御超强敌人
2. **角色扮演**：控制单个单位的RPG体验
3. **竞速挑战**：在限定时间内完成特定目标
4. **解谜模式**：通过逻辑编程解决复杂问题

### 8.2 现有模式的深化
1. **赛季系统**：定期更新的挑战内容
2. **每日任务**：增加游戏的日常参与度
3. **成就系统**：长期目标的设定和奖励
4. **社区活动**：定期的社区创作比赛

## 9. 总结

Mindustry的游戏模式设计体现了**多元化**和**深度化**的完美结合：

### 9.1 设计优势
1. **覆盖全面**：满足不同类型玩家的需求
2. **深度递进**：每种模式都有足够的探索空间
3. **技能互补**：不同模式间的技能可以相互促进
4. **生态完整**：从学习到创作的完整生态闭环

### 9.2 创新价值
1. **类型融合**：成功融合了多种游戏类型的优点
2. **角色转换**：从消费者到创造者的身份转变
3. **社区驱动**：UGC内容极大丰富了游戏内容
4. **教育价值**：在娱乐中培养工程思维和创造能力

Mindustry的模式设计不仅为玩家提供了丰富的游戏体验，更重要的是创造了一个可持续发展的游戏生态系统，这种设计理念为游戏行业提供了宝贵的创新范例。

## 10. 相关设计文档参考

### 10.1 深度机制分析
各游戏模式的深度机制实现，请参考以下专项设计文档：

- **[04-核心玩法机制设计文档](./04-核心玩法机制设计文档.md)**：详解各模式中的资源系统、生产链、物流网络运作机制
- **[05-战斗系统设计文档](./05-战斗系统设计文档.md)**：深入分析生存、进攻、PvP模式的战斗系统设计
- **[06-自动化与逻辑系统设计文档](./06-自动化与逻辑系统设计文档.md)**：沙盒模式高级玩法的逻辑编程应用

### 10.2 系统支撑分析
- **[07-经济系统设计文档](./07-经济系统设计文档.md)**：各模式的经济平衡和资源管理机制
- **[08-科技进程设计文档](./08-科技进程设计文档.md)**：不同模式下的科技发展路径和解锁机制

### 10.3 技术实现要点
- **模式切换**：通过`Rules.java`和`Gamemode.java`实现模式间的规则差异
- **AI配置**：不同模式下AI行为的动态配置（详见`ai/`包下的各种AI类）
- **网络支持**：多人模式的网络同步和数据一致性保障
- **数据持久化**：各模式游戏数据的保存和加载机制

这套模式设计与其他系统设计文档共同构成了Mindustry完整的设计体系，为理解游戏的整体架构提供了全面的参考。