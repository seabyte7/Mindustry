# Mindustry ç¨‹åºåŒ–ä¸–ç•Œç”Ÿæˆç³»ç»Ÿç­–åˆ’æ¡ˆ

## æ–‡æ¡£ä¿¡æ¯

- **ç‰ˆæœ¬**: 2.0
- **æ—¥æœŸ**: 2025-09-22
- **çŠ¶æ€**: å®Œæˆ âœ…
- **ä½œè€…**: é«˜çº§ç­–åˆ’
- **æŠ€æœ¯ä¾æ®**: `maps/planet/`, `maps/generators/` æºç åˆ†æ

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#1-ç³»ç»Ÿæ¦‚è¿°)
2. [æ¶æ„è®¾è®¡](#2-æ¶æ„è®¾è®¡)
3. [åœ°å½¢ç”Ÿæˆç®—æ³•](#3-åœ°å½¢ç”Ÿæˆç®—æ³•)
4. [èµ„æºåˆ†å¸ƒç³»ç»Ÿ](#4-èµ„æºåˆ†å¸ƒç³»ç»Ÿ)
5. [æ•ŒäººåŸºåœ°ç”Ÿæˆ](#5-æ•ŒäººåŸºåœ°ç”Ÿæˆ)
6. [ç¯å¢ƒå±æ€§ç³»ç»Ÿ](#6-ç¯å¢ƒå±æ€§ç³»ç»Ÿ)
7. [å¤©æ°”ç³»ç»Ÿ](#7-å¤©æ°”ç³»ç»Ÿ)
8. [å°è¡Œæ˜Ÿç”Ÿæˆ](#8-å°è¡Œæ˜Ÿç”Ÿæˆ)
9. [ç³»ç»Ÿå…³è”æ€§](#9-ç³»ç»Ÿå…³è”æ€§)
10. [å¼€å‘å®ç°æŒ‡å—](#10-å¼€å‘å®ç°æŒ‡å—)

---

## 1. ç³»ç»Ÿæ¦‚è¿°

### 1.1 æ ¸å¿ƒç›®æ ‡

ç¨‹åºåŒ–ä¸–ç•Œç”Ÿæˆç³»ç»Ÿæ—¨åœ¨ä¸ºMindustryåˆ›å»ºä¸°å¯Œå¤šæ ·ã€å…·æœ‰æˆ˜ç•¥æ·±åº¦çš„æ˜Ÿçƒç¯å¢ƒï¼Œç¡®ä¿æ¯ä¸ªæ‰‡åŒºéƒ½å…·æœ‰ï¼š
- **ç‹¬ç‰¹æ€§**: åŸºäºå™ªå£°ç®—æ³•çš„æ— é™å˜åŒ–åœ°å½¢
- **æŒ‘æˆ˜æ€§**: æ¸è¿›å¼éš¾åº¦æå‡å’Œèµ„æºç¨€ç¼ºæ€§
- **ç­–ç•¥æ€§**: åœ°å½¢ä¸èµ„æºåˆ†å¸ƒå½±å“å»ºé€ ç­–ç•¥
- **ä¸€è‡´æ€§**: ç¬¦åˆæ˜Ÿçƒä¸»é¢˜çš„ç”Ÿç‰©ç¾¤è½åˆ†å¸ƒ

### 1.2 ç³»ç»ŸèŒƒå›´

æ¶µç›–ä¸‰å¤§æ˜Ÿçƒç±»å‹çš„åœ°å›¾ç”Ÿæˆï¼š
- **Serpuloæ˜Ÿçƒ**: æ¸©å¸¦ç¯å¢ƒï¼Œä¼ ç»Ÿèµ„æºä½“ç³»
- **Erekiræ˜Ÿçƒ**: é«˜æ¸©ç¯å¢ƒï¼Œæ–°å‹èµ„æºä¸è’¸æ±½ç³»ç»Ÿ
- **å°è¡Œæ˜Ÿå¸¦**: å¤ªç©ºç¯å¢ƒï¼Œç¨€æœ‰èµ„æºå¯†é›†åˆ†å¸ƒ

### 1.3 æŠ€æœ¯æ¶æ„

```
PlanetGenerator (æŠ½è±¡åŸºç±»)
â”œâ”€â”€ BasicGenerator (åŸºç¡€ç”Ÿæˆå™¨)
â”œâ”€â”€ SerpuloPlanetGenerator (Serpuloå®ç°)
â”œâ”€â”€ ErekirPlanetGenerator (Erekirå®ç°)
â””â”€â”€ AsteroidGenerator (å°è¡Œæ˜Ÿå®ç°)
```

---

## 2. æ¶æ„è®¾è®¡

### 2.1 ç”Ÿæˆå™¨ç»§æ‰¿ä½“ç³»

#### 2.1.1 PlanetGenerator æŠ½è±¡åŸºç±»
**ä½ç½®**: `mindustry.maps.generators.PlanetGenerator`

**æ ¸å¿ƒèŒè´£**:
- æ‰‡åŒºåæ ‡æ˜ å°„åˆ°3Dçƒé¢åæ ‡
- ç»Ÿä¸€çš„å™ªå£°ç”Ÿæˆæ¥å£
- æ•ŒäººåŸºåœ°ç”Ÿæˆé€»è¾‘
- å¤©æ°”ç³»ç»Ÿé›†æˆ

**å…³é”®æ–¹æ³•**:
```java
// æ‰‡åŒºå¤§å°è®¡ç®—
public int getSectorSize(Sector sector) {
    int res = (int)(sector.rect.radius * getSizeScl());
    return res % 2 == 0 ? res : res + 1;
}

// 3Då™ªå£°ç”Ÿæˆ
protected float noise(float x, float y, double octaves, double falloff, double scl, double mag) {
    Vec3 v = sector.rect.project(x, y);
    return Simplex.noise3d(0, octaves, falloff, 1f / scl, v.x, v.y, v.z) * (float)mag;
}
```

#### 2.1.2 BasicGenerator åŸºç¡€å·¥å…·ç±»
**ä½ç½®**: `mindustry.maps.generators.BasicGenerator`

æä¾›åœ°å›¾ç”Ÿæˆçš„åŸºç¡€å·¥å…·æ–¹æ³•ï¼š
- åœ°å½¢ä¿®æ”¹å‡½æ•° (`pass`, `erase`, `brush`)
- çŸ¿ç‰©åˆ†å¸ƒç®—æ³• (`ore`, `oreAround`)
- åœ°å½¢å˜å½¢å·¥å…· (`distort`, `median`)
- ç»†èƒè‡ªåŠ¨æœº (`cells`)

### 2.2 ç”Ÿæˆæµç¨‹æ¶æ„

#### 2.2.1 ä¸‰é˜¶æ®µç”Ÿæˆæµç¨‹

1. **åœ°å½¢åŸºç¡€ç”Ÿæˆ** (Terrain Generation)
   - é«˜åº¦å›¾è®¡ç®—
   - åŸºç¡€åœ°å½¢å—åˆ†é…
   - ç”Ÿç‰©ç¾¤è½åˆ†å¸ƒ

2. **ç‰¹å¾ç”Ÿæˆ** (Feature Generation)
   - æˆ¿é—´ä¸é€šé“ç³»ç»Ÿ
   - æ²³æµä¸æ¹–æ³Š
   - çŸ¿ç‰©åˆ†å¸ƒ

3. **åå¤„ç†ä¼˜åŒ–** (Post-Processing)
   - å¹³æ»‘å¤„ç†
   - ç»†èŠ‚è£…é¥°
   - å¯é€šè¡Œæ€§éªŒè¯

#### 2.2.2 æ•°æ®æµå‘å›¾

```
Sectoråæ ‡ â†’ 3Dçƒé¢åæ ‡ â†’ å™ªå£°å‡½æ•° â†’ åœ°å½¢ç±»å‹
     â†“
èµ„æºåˆ†å¸ƒç®—æ³• â†’ çŸ¿ç‰©é…ç½® â†’ æ•ŒäººåŸºåœ° â†’ æœ€ç»ˆåœ°å›¾
```

---

## 3. åœ°å½¢ç”Ÿæˆç®—æ³•

### 3.1 Serpuloæ˜Ÿçƒåœ°å½¢ç”Ÿæˆ

#### 3.1.1 é«˜åº¦è®¡ç®—å…¬å¼
**å®ç°ä½ç½®**: `SerpuloPlanetGenerator.rawHeight()`

```java
// æ ¸å¿ƒé«˜åº¦ç”Ÿæˆå…¬å¼
height = (Mathf.pow(Simplex.noise3d(seed, 7, 0.5f, 1f/3f, position.x, position.y, position.z), 2.3f) + waterOffset) / (1f + waterOffset)
```

**å‚æ•°è¯´æ˜**:
- `seed`: æ˜Ÿçƒç§å­ï¼Œç¡®ä¿ä¸€è‡´æ€§
- `octaves = 7`: å™ªå£°å±‚æ•°ï¼Œæ§åˆ¶åœ°å½¢å¤æ‚åº¦
- `persistence = 0.5f`: å™ªå£°è¡°å‡ç³»æ•°
- `scale = 1f/3f`: å™ªå£°é¢‘ç‡ï¼Œå½±å“åœ°å½¢ç²—ç³™åº¦
- `heightPower = 2.3f`: é«˜åº¦å¹‚æ¬¡æ–¹ï¼Œå¢å¼ºåœ°å½¢å¯¹æ¯”åº¦
- `waterOffset = 0.07f`: æ°´å¹³é¢åç§»ï¼Œæ§åˆ¶æµ·æ´‹æ¯”ä¾‹

#### 3.1.2 æ¸©åº¦ç³»ç»Ÿ
**è®¡ç®—å…¬å¼**:
```java
float temp = Mathf.clamp(Math.abs(position.y * 2f) / radius);
float tnoise = Simplex.noise3d(seed, 7, 0.56, 1f/3f, position.x, position.y + 999f, position.z);
temp = Mathf.lerp(temp, tnoise, 0.5f);
```

**å½±å“æœºåˆ¶**:
- `position.y`: çº¬åº¦å½±å“ï¼Œæåœ°æ›´å†·
- `tnoise`: éšæœºæ¸©åº¦å˜åŒ–ï¼Œå¢åŠ å¤šæ ·æ€§
- `lerp(temp, tnoise, 0.5f)`: 50%æƒé‡æ··åˆçœŸå®æ¸©åº¦ä¸å™ªå£°

#### 3.1.3 åœ°å½¢æ˜ å°„è¡¨
**13x13åœ°å½¢çŸ©é˜µ** (`arr`æ•°ç»„):

| æ¸©åº¦\é«˜åº¦ | 0(ä½) | 1 | 2 | ... | 12(é«˜) |
|-----------|-------|---|---|-----|--------|
| 0(å†·) | water | darksandWater | darksand | ... | ice |
| 1 | water | darksandWater | darksand | ... | stone |
| ... | ... | ... | ... | ... | ... |
| 12(çƒ­) | darksandWater | darksand | ice | ... | ice |

**é€‰æ‹©ç®—æ³•**:
```java
Block res = arr[Mathf.clamp((int)(temp * arr.length), 0, arr[0].length - 1)]
              [Mathf.clamp((int)(height * arr[0].length), 0, arr[0].length - 1)];
```

### 3.2 Erekiræ˜Ÿçƒåœ°å½¢ç”Ÿæˆ

#### 3.2.1 ç‹¬ç‰¹çš„é«˜æ¸©ç¯å¢ƒ
**é«˜åº¦è®¡ç®—**:
```java
float rawHeight = Simplex.noise3d(seed, octaves=8, persistence=0.7f, 1f/heightScl=0.9f, position);
float height = Mathf.pow(rawHeight, heightPow=3f) * heightMult=1.6f;
```

**æ¸©åº¦è®¡ç®—**:
```java
float temp = position.dst(0, 0, 1) * 2.2f - Simplex.noise3d(seed, 8, 0.54f, 1.4f, position) * 2.9f;
```

#### 3.2.2 ç‰¹æ®Šåœ°å½¢ç”Ÿæˆè§„åˆ™

**ç»“æ™¶åœ°å½¢** (crystallineStone):
```java
if(ice < 0.3 + Math.abs(Ridged.noise3d(seed + crystalSeed=8, position, crystalOct=2, crystalScl=0.9f)) * crystalMag=0.3f) {
    return Blocks.crystallineStone;
}
```

**é“é“œçŸ¿è„‰** (beryllicStone):
```java
if(ice < redThresh=3.1f - noArkThresh=0.3f &&
   Ridged.noise3d(seed + arkSeed=7, position, arkOct=2, arkScl=0.83f) > arkThresh=0.28f) {
    result = Blocks.beryllicStone;
}
```

### 3.3 åœ°å½¢å˜å½¢ç®—æ³•

#### 3.3.1 distortå˜å½¢å‡½æ•°
**å®ç°ä½ç½®**: `BasicGenerator.distort()`

```java
// ä½ç§»è®¡ç®—
float cx = x + noise(x - 155f, y - 200f, scl, mag) - mag / 2f;
float cy = y + noise(x + 155f, y + 155f, scl, mag) - mag / 2f;
```

**å‚æ•°æ§åˆ¶**:
- `scl`: å˜å½¢å°ºåº¦ï¼Œæ¨èå€¼ 5f-12f
- `mag`: å˜å½¢å¼ºåº¦ï¼Œæ¨èå€¼ 6f-15f
- å˜å½¢åç§»: `-155f`, `+200f`, `+155f` ç¡®ä¿å™ªå£°æ¨¡å¼ä¸åŒ

#### 3.3.2 medianå¹³æ»‘ç®—æ³•
**å®ç°åŸç†**:
1. æ”¶é›†åŠå¾„å†…æ‰€æœ‰åœ°å—ç±»å‹
2. æŒ‰æŒ‡å®šç™¾åˆ†ä½æ•°æ’åº
3. é€‰æ‹©ç›®æ ‡ç™¾åˆ†ä½çš„åœ°å—ç±»å‹

```java
// æ”¶é›†é‚»è¿‘åœ°å—
Geometry.circle(x, y, width, height, radius, (cx, cy) -> {
    ints1.add(tiles.getn(cx, cy).floorID());
});
// æ’åºå¹¶é€‰æ‹©ä¸­ä½æ•°
ints1.sort();
Block result = content.block(ints1.get((int)(ints1.size * percentile)));
```

---

## 4. èµ„æºåˆ†å¸ƒç³»ç»Ÿ

### 4.1 Serpuloæ˜Ÿçƒèµ„æºåˆ†å¸ƒ

#### 4.1.1 åŸºç¡€èµ„æºé…ç½®
**ä¿è¯ç”Ÿæˆèµ„æº**:
```java
Seq<Block> ores = Seq.with(Blocks.oreCopper, Blocks.oreLead);
```

#### 4.1.2 æ¡ä»¶æ€§èµ„æºç”Ÿæˆ
**ç…¤ç‚­çŸ¿** (oreCoal):
```java
// ç”Ÿæˆæ¡ä»¶ï¼šæåœ°åç§» + å™ªå£°å€¼
if(Simplex.noise3d(seed, 2, 0.5, scl=1f, sector.tile.v) * nmag=0.5f + poles > 0.25f * addscl=1.3f) {
    ores.add(Blocks.oreCoal);
}
```

**é’›çŸ¿** (oreTitanium):
```java
if(noise3d + poles > 0.5f * 1.3f) {
    ores.add(Blocks.oreTitanium);
}
```

**é’çŸ¿** (oreThorium):
```java
if(noise3d + poles > 0.7f * 1.3f) {
    ores.add(Blocks.oreThorium);
}
```

**åºŸæ–™** (oreScrap):
```java
if(rand.chance(0.25)) {  // 25%æ¦‚ç‡ç”Ÿæˆ
    ores.add(Blocks.oreScrap);
}
```

#### 4.1.3 çŸ¿ç‰©åˆ†å¸ƒç®—æ³•
**é¢‘ç‡æƒé‡è®¡ç®—**:
```java
FloatSeq frequencies = new FloatSeq();
for(int i = 0; i < ores.size; i++){
    frequencies.add(rand.random(-0.1f, 0.01f) - i * 0.01f + poles * 0.04f);
}
```

**çŸ¿ç‰©æ”¾ç½®åˆ¤æ–­**:
```java
// åŒé‡å™ªå£°æ£€æŸ¥ç¡®ä¿ç¨€æœ‰åº¦
if(Math.abs(0.5f - noise(offsetX, offsetY + i*999, 2, 0.7, (40 + i * 2))) > 0.22f + i*0.01 &&
   Math.abs(0.5f - noise(offsetX, offsetY - i*999, 1, 1, (30 + i * 4))) > 0.37f + freq) {
    ore = entry;
}
```

### 4.2 Erekiræ˜Ÿçƒèµ„æºåˆ†å¸ƒ

#### 4.2.1 é’¨çŸ¿åˆ†å¸ƒ (oreTungsten)
```java
if(noise(x + 150, y + x*2 + 100, 4, 0.8f, 55f, 1f) > 0.76f) {
    ore = Blocks.oreTungsten;
}
```

#### 4.2.2 æ°´æ™¶é’çŸ¿ (oreCrystalThorium)
```java
// é™åˆ¶åœ¨ç»“æ™¶åœ°å½¢ä¸Š
if(noise(x + 999, y + 600 - x, 4, 0.63f, 45f, 1f) < 0.27f && floor == Blocks.crystallineStone) {
    ore = Blocks.oreCrystalThorium;
}
```

#### 4.2.3 å¢™ä½“çŸ¿ç‰© (wallOreBeryllium)
```java
// ä»…åœ¨å¢™ä½“è¡¨é¢ç”Ÿæˆ
if(block != Blocks.air && nearAir(x, y) && noise(...) > 0.665f) {
    ore = Blocks.wallOreBeryllium;
}
```

### 4.3 å°è¡Œæ˜Ÿèµ„æºåˆ†å¸ƒ

#### 4.3.1 æè´¨æ¦‚ç‡é…ç½®
```java
public float stoneChance = 0f;      // çŸ³è´¨å°è¡Œæ˜Ÿ
public float iceChance = 0f;        // å†°è´¨å°è¡Œæ˜Ÿ
public float carbonChance = 0f;     // ç¢³è´¨å°è¡Œæ˜Ÿ
public float berylChance = 0f;      // é“è´¨å°è¡Œæ˜Ÿ
public float ferricChance = 1f;     // é“è´¨å°è¡Œæ˜Ÿ(é»˜è®¤)
```

#### 4.3.2 èµ„æºç”Ÿæˆè§„åˆ™
**é“…çŸ¿å›´ç»•çŸ³å¢™ç”Ÿæˆ**:
```java
oreAround(Blocks.oreLead, Blocks.stoneWall, radius=3, scl=70f, thresh=0.6f * leadScale);
```

**é“œçŸ¿ä»…åœ¨é“è´¨åœ°å½¢**:
```java
ore(Blocks.oreCopper, Blocks.ferricStone, scl=5f, thresh=0.8f * copperScale);
```

**é’›çŸ¿åˆ†å¸ƒç®—æ³•**:
```java
if(Math.abs(0.5f - noise(x, y + 4*999 - x*1.5f, 2, 0.65, 62)) > 0.26f) {
    ore = Blocks.oreTitanium;
}
```

---

## 5. æ•ŒäººåŸºåœ°ç”Ÿæˆ

### 5.1 BaseGeneratoræ ¸å¿ƒæœºåˆ¶

#### 5.1.1 éš¾åº¦ç³»ç»Ÿ
**å®ç°ä½ç½®**: `BaseGenerator.generate()`

**åŸºç¡€å‚æ•°é…ç½®**:
```java
float bracketRange = 0.17f;                    // éš¾åº¦æµ®åŠ¨èŒƒå›´
float baseChance = Mathf.lerp(0.7f, 2.1f, difficulty);  // åŸºåœ°ç”Ÿæˆæ¦‚ç‡
double resourceChance = 0.5 * baseChance;      // èµ„æºç‚¹å»ºç­‘æ¦‚ç‡
double nonResourceChance = 0.002 * baseChance; // éèµ„æºå»ºç­‘æ¦‚ç‡
int passes = difficulty < 0.4 ? 1 : difficulty < 0.8 ? 3 : 5;  // ç”Ÿæˆè½®æ•°
```

#### 5.1.2 éš¾åº¦ç­‰çº§å¢™ä½“é€‰æ‹©
```java
public static Block getDifficultyWall(int size, float difficulty) {
    Seq<Block> walls = content.blocks().select(b ->
        b instanceof Wall &&
        b.isVanilla() &&
        b.size == size &&
        b.buildVisibility == BuildVisibility.shown);
    walls.sort(b -> b.buildTime);  // æŒ‰å»ºé€ æ—¶é—´æ’åº
    return walls.getFrac(difficulty * 0.91f);  // é€‰æ‹©å¯¹åº”éš¾åº¦çš„å¢™ä½“
}
```

#### 5.1.3 æ ¸å¿ƒå»ºç­‘é…ç½®
```java
// æ ¸å¿ƒå»ºç­‘é€‰æ‹©
BasePart corePart = bases.cores.getFrac((difficulty + Mathf.rand.range(0.4f)) / 1.4f);
Schematics.placeLoadout(corePart.schematic, tile.x, tile.y, team, false);

// æ ¸å¿ƒèµ„æºå¡«å……
for(Item item : content.items()) {
    entity.items.add(item, entity.block.itemCapacity);
}
```

### 5.2 è“å›¾æ”¾ç½®ç®—æ³•

#### 5.2.1 æ”¾ç½®æ¡ä»¶æ£€æŸ¥
```java
public static boolean tryPlace(BasePart part, int x, int y, Team team, Rand random) {
    // æ—‹è½¬è“å›¾
    int rotation = random.range(2);
    Schematic result = Schematics.rotate(part.schematic, rotation);

    // æ£€æŸ¥æ¯ä¸ªæ–¹å—æ˜¯å¦å¯æ”¾ç½®
    for(Stile tile : result.tiles) {
        int realX = tile.x + cx, realY = tile.y + cy;
        if(isTaken(tile.block, realX, realY)) {
            return false;  // æ”¾ç½®å¤±è´¥
        }
    }

    return true;  // æ”¾ç½®æˆåŠŸ
}
```

#### 5.2.2 å†²çªæ£€æµ‹æœºåˆ¶
```java
static boolean isTaken(Block block, int x, int y) {
    // æ•Œæ–¹æ ¸å¿ƒå®‰å…¨è·ç¦»æ£€æŸ¥
    if(state.teams.anyEnemyCoresWithin(state.rules.waveTeam,
       x * tilesize + block.offset, y * tilesize + block.offset,
       state.rules.enemyCoreBuildRadius + tilesize)) {
        return true;
    }

    // å»ºç­‘å ç”¨æ£€æŸ¥
    for(int dx = -pad; dx < block.size + pad; dx++) {
        for(int dy = -pad; dy < block.size + pad; dy++) {
            if(overlaps(dx + offsetx + x, dy + offsety + y)) {
                return true;
            }
        }
    }
    return false;
}
```

### 5.3 é˜²å¾¡å·¥äº‹ç”Ÿæˆ

#### 5.3.1 å¢™ä½“å¸ƒå±€ç®—æ³•
**å°å‹å¢™ä½“æ”¾ç½®**:
```java
// æ£€æŸ¥æ˜¯å¦éœ€è¦ä¿æŠ¤
boolean needsWall = false;
for(Point2 p : Geometry.d8) {
    Tile other = tiles.get(tile.x + p.x, tile.y + p.y);
    if(other != null && other.team() == team && !(other.block() instanceof Wall)) {
        needsWall = true;
        break;
    }
}

// è§’åº¦é™åˆ¶é˜²å¾¡
if(needsWall && Angles.angleDist(Angles.angle(p.x, p.y), spawn.angleTo(tile)) <= wallAngle) {
    tile.setBlock(wall, team);
}
```

**å¤§å‹å¢™ä½“åˆå¹¶**:
```java
// æ£€æŸ¥2x2åŒºåŸŸçš„å°å¢™æ•°é‡
int walls = 0;
for(int cx = 0; cx < 2; cx++) {
    for(int cy = 0; cy < 2; cy++) {
        if(tiles.getn(curr.x + cx, curr.y + cy).block() == wall) {
            walls++;
        }
    }
}

// 3ä¸ªæˆ–ä»¥ä¸Šå°å¢™åˆå¹¶ä¸ºå¤§å¢™
if(walls >= 3) {
    curr.setBlock(wallLarge, team);
}
```

---

## 6. ç¯å¢ƒå±æ€§ç³»ç»Ÿ

### 6.1 å±æ€§ç±»å‹å®šä¹‰

#### 6.1.1 æ ¸å¿ƒå±æ€§åˆ—è¡¨
**å®ç°ä½ç½®**: `mindustry.world.meta.Attribute`

```java
public static final Attribute
    heat = add("heat"),        // çƒ­é‡ - åœ°çƒ­å‘ç”µæœºæ•ˆç‡
    spores = add("spores"),    // å­¢å­ - åŸ¹å…»å™¨äº§é‡
    water = add("water"),      // æ°´åˆ† - æ°´æ³µäº§é‡
    oil = add("oil"),          // çŸ³æ²¹ - çŸ³æ²¹é’»æœºäº§é‡
    light = add("light"),      // å…‰ç…§ - å¤ªé˜³èƒ½æ¿æ•ˆç‡
    sand = add("sand"),        // æ²™å­ - æ²™å­æå–å™¨äº§é‡
    steam = add("steam");      // è’¸æ±½ - Erekirä¸“ç”¨å±æ€§
```

#### 6.1.2 å±æ€§å­˜å‚¨æœºåˆ¶
```java
public class Attributes {
    private float[] arr = new float[Attribute.all.length];

    public float get(Attribute attr) {
        return arr[attr.id];
    }

    public void set(Attribute attr, float value) {
        arr[attr.id] = value;
    }
}
```

### 6.2 å±æ€§åˆ†å¸ƒç®—æ³•

#### 6.2.1 åœ°å½¢å±æ€§ç»§æ‰¿
æ¯ä¸ªåœ°å½¢å—ï¼ˆFloor/Blockï¼‰éƒ½å¯å®šä¹‰åŸºç¡€å±æ€§å€¼ï¼š
```java
// çƒ­å²©åœ°å½¢è®¾ç½®çƒ­é‡å±æ€§
public Floor hotrock = new Floor("hotrock") {{
    attributes.set(Attribute.heat, 1.0f);
}};

// å­¢å­è‹”è—“è®¾ç½®å­¢å­å±æ€§
public Floor sporeMoss = new Floor("spore-moss") {{
    attributes.set(Attribute.spores, 0.8f);
}};
```

#### 6.2.2 å±æ€§å åŠ è®¡ç®—
å»ºç­‘ä»å‘¨å›´åœ°å½¢ç´¯ç§¯å±æ€§å€¼ï¼š
```java
// 3x3èŒƒå›´å±æ€§æ±‚å’Œ
float totalAttribute = 0f;
for(int dx = -1; dx <= 1; dx++) {
    for(int dy = -1; dy <= 1; dy++) {
        Tile nearby = world.tile(building.tileX() + dx, building.tileY() + dy);
        if(nearby != null) {
            totalAttribute += nearby.floor().attributes.get(targetAttribute);
        }
    }
}
```

### 6.3 å±æ€§å¯¹å»ºç­‘æ•ˆç‡çš„å½±å“

#### 6.3.1 åœ°çƒ­å‘ç”µæœº
```java
// çƒ­é‡å±æ€§å½±å“å‘ç”µé‡
float efficiency = sumAttribute(Attribute.heat, tileX, tileY) * attributeBase;
powerProduction = basePowerProduction * Math.max(efficiency, minEfficiency);
```

#### 6.3.2 æ°´æ³µ
```java
// æ°´åˆ†å±æ€§å½±å“æŠ½æ°´é€Ÿåº¦
float waterBonus = sumAttribute(Attribute.water, tileX, tileY);
liquidOutputRate = baseLiquidRate * (1f + waterBonus * 0.1f);
```

#### 6.3.3 å¤ªé˜³èƒ½æ¿
```java
// å…‰ç…§å±æ€§å½±å“å‘ç”µï¼ˆè´Ÿå€¼é™ä½æ•ˆç‡ï¼‰
float lightLevel = sumAttribute(Attribute.light, tileX, tileY);
powerProduction = basePower * Math.max(lightLevel, 0.1f);
```

---

## 7. å¤©æ°”ç³»ç»Ÿ

### 7.1 å¤©æ°”ç±»å‹å®šä¹‰

#### 7.1.1 åŸºç¡€å¤©æ°”ç³»ç»Ÿ
**å®ç°ä½ç½®**: `PlanetGenerator.addWeather()`

**å¤©æ°”è§¦å‘æ¡ä»¶**:
```java
// åœ°å½¢ç»Ÿè®¡åˆ†æ
ObjectIntMap<Block> floorc = new ObjectIntMap<>();
for(Tile tile : world.tiles) {
    if(world.getDarkness(tile.x, tile.y) >= 3) continue;  // è·³è¿‡é»‘æš—åŒºåŸŸ

    if(!tile.block().isStatic()) {
        floorc.increment(tile.floor());  // ç»Ÿè®¡åœ°å½¢åˆ†å¸ƒ
        if(tile.overlay() != Blocks.air) {
            floorc.increment(tile.overlay());  // ç»Ÿè®¡è¡¨é¢è¦†ç›–ç‰©
        }
    }
}
```

#### 7.1.2 å¤©æ°”åˆ¤æ–­é€»è¾‘

**é›ªå¤©æ°”** (Snow):
```java
boolean hasSnow = floors.length > 0 &&
    (floors[0].name.contains("ice") || floors[0].name.contains("snow"));

if(hasSnow) {
    rules.weather.add(new WeatherEntry(Weathers.snow));
}
```

**é›¨å¤©æ°”** (Rain + Fog):
```java
boolean hasRain = floors.length > 0 &&
    !hasSnow &&
    content.contains(Liquids.water) &&
    !floors[0].name.contains("sand");

if(hasRain) {
    rules.weather.add(new WeatherEntry(Weathers.rain));
    rules.weather.add(new WeatherEntry(Weathers.fog));
}
```

**æ²™å°˜æš´** (Sandstorm):
```java
boolean hasDesert = floors.length > 0 &&
    !hasSnow &&
    !hasRain &&
    floors[0] == Blocks.sand;

if(hasDesert) {
    rules.weather.add(new WeatherEntry(Weathers.sandstorm));
}
```

**å­¢å­é£æš´** (Sporestorm):
```java
boolean hasSpores = floors.length > 0 &&
    (floors[0].name.contains("spore") ||
     floors[0].name.contains("moss") ||
     floors[0].name.contains("tainted"));

if(hasSpores) {
    rules.weather.add(new WeatherEntry(Weathers.sporestorm));
}
```

### 7.2 å¤©æ°”æ•ˆæœæœºåˆ¶

#### 7.2.1 é›¨å¤©æ•ˆæœ
- **å†·å´å¢å¼º**: å»ºç­‘è¿‡çƒ­æ¢å¤é€Ÿåº¦ +50%
- **å¤ªé˜³èƒ½å‡å¼±**: å¤ªé˜³èƒ½æ¿æ•ˆç‡ -30%
- **è§†é‡é™åˆ¶**: é›¾å¤©æ°”é™ä½è§†é‡èŒƒå›´

#### 7.2.2 æ²™å°˜æš´æ•ˆæœ
- **å¤ªé˜³èƒ½é˜»æŒ¡**: å¤ªé˜³èƒ½æ¿æ•ˆç‡ -80%
- **å•ä½å‡é€Ÿ**: åœ°é¢å•ä½ç§»åŠ¨é€Ÿåº¦ -25%
- **è§†é‡å¹²æ‰°**: æ•Œäººæ£€æµ‹èŒƒå›´ -40%

#### 7.2.3 å­¢å­é£æš´æ•ˆæœ
- **è…èš€ä¼¤å®³**: æ‰€æœ‰å•ä½æ¯ç§’å—åˆ°è½»å¾®ä¼¤å®³
- **ä¿®å¤å¹²æ‰°**: ä¿®å¤è®¾æ–½æ•ˆç‡ -20%
- **è§†è§‰ç‰¹æ•ˆ**: ç»¿è‰²ç²’å­æ•ˆæœ

---

## 8. å°è¡Œæ˜Ÿç”Ÿæˆ

### 8.1 å°è¡Œæ˜Ÿå½¢çŠ¶ç”Ÿæˆ

#### 8.1.1 æ ¸å¿ƒç”Ÿæˆç®—æ³•
**å®ç°ä½ç½®**: `AsteroidGenerator.asteroid()`

```java
void asteroid(int ax, int ay, int radius) {
    // éšæœºé€‰æ‹©å°è¡Œæ˜Ÿæè´¨
    Floor floor = (
        rand.chance(iceChance) ? Blocks.ice :
        rand.chance(carbonChance) ? Blocks.carbonStone :
        rand.chance(berylChance) ? Blocks.beryllicStone :
        rand.chance(ferricChance) ? Blocks.ferricStone :
        Blocks.stone
    ).asFloor();

    // ç”Ÿæˆä¸è§„åˆ™åœ†å½¢
    for(int x = ax - radius; x <= ax + radius; x++) {
        for(int y = ay - radius; y <= ay + radius; y++) {
            float dist = Mathf.dst(x, y, ax, ay) / radius;
            float noise = Simplex.noise2d(seed, octaves=2, persistence=0.4f, 1f/scale=30f, x, y) * mag=0.46f;

            if(dist + noise < thresh=1f) {
                tiles.getn(x, y).setFloor(floor);
            }
        }
    }
}
```

#### 8.1.2 å¤§å°ä¸æ•°é‡æ§åˆ¶
```java
// ä¸»è¦å°è¡Œæ˜Ÿ
int amount = rand.random(min=20, max=30);
for(int i = 0; i < amount; i++) {
    float radius = rand.random(radMin=12f, radMax=60f);
    asteroid((int)ax, (int)ay, (int)radius);
}

// å°å‹ç¢ç‰‡
int smalls = rand.random(min, max) * 3;  // æ•°é‡æ˜¯ä¸»è¦å°è¡Œæ˜Ÿçš„3å€
for(int i = 0; i < smalls; i++) {
    float radius = rand.random(1, 8);  // å°åŠå¾„
    asteroid((int)ax, (int)ay, (int)radius);
}
```

### 8.2 å°è¡Œæ˜Ÿç¯å¢ƒç‰¹æ€§

#### 8.2.1 é›¶é‡åŠ›ç¯å¢ƒ
```java
state.rules.dragMultiplier = 0.7f;  // å¤ªç©ºä¸­çš„"ç©ºæ°”é˜»åŠ›"æ¨¡æ‹Ÿ
state.rules.borderDarkness = false;  // ç§»é™¤è¾¹ç•Œé»‘æš—
```

#### 8.2.2 å¤ªç©ºèƒŒæ™¯è®¾ç½®
```java
state.rules.planetBackground = new PlanetParams() {{
    planet = sector.planet;
    zoom = 1f;
    camPos = new Vec3(1.2388899f, 1.6047299f, 2.4758825f);  // ç‰¹å®šè§†è§’
}};
```

#### 8.2.3 ç©ºå†›æ•Œäººç”Ÿæˆ
```java
// å°è¡Œæ˜Ÿç¯å¢ƒä¸‹ä¸»è¦ç”Ÿæˆé£è¡Œå•ä½
state.rules.spawns = Waves.generate(0.5f, rand, false, true, false);
//                                  difficulty, rand, attack, air, naval
```

### 8.3 å°è¡Œæ˜Ÿå†…éƒ¨ç»“æ„

#### 8.3.1 å†…å£ç”Ÿæˆç®—æ³•
```java
pass((x, y) -> {
    // è·³è¿‡ç©ºé—´åŒºåŸŸå’Œæ ¸å¿ƒåŒºåŸŸ
    if(floor == background || Mathf.within(x, y, sx, sy, coreRadius)) return;

    // æ£€æŸ¥æ˜¯å¦ä¸ºå†…éƒ¨ç©ºé—´ï¼ˆè¢«å°è¡Œæ˜ŸåŒ…å›´ï¼‰
    int radius = 6;
    boolean isInterior = true;
    for(int dx = x - radius; dx <= x + radius; dx++) {
        for(int dy = y - radius; dy <= y + radius; dy++) {
            if(Mathf.within(dx, dy, x, y, radius) &&
               tiles.in(dx, dy) &&
               tiles.getn(dx, dy).floor() == background) {
                isInterior = false;
                break;
            }
        }
    }

    if(isInterior) {
        block = floor.asFloor().wall;  // ç”Ÿæˆå†…å£
    }
});
```

#### 8.3.2 é™¨çŸ³å‘ç‰¹å¾
```java
pass((x, y) -> {
    if(floor == Blocks.ferricStone && rand.chance(0.02)) {
        floor = Blocks.ferricCraters;  // é“è´¨é™¨çŸ³å‘
    }
    if(floor == Blocks.stone && rand.chance(0.02)) {
        floor = Blocks.craters;  // æ™®é€šé™¨çŸ³å‘
    }
});
```

---

## 9. ç³»ç»Ÿå…³è”æ€§

### 9.1 èµ„æº-åœ°å½¢å…³è”çŸ©é˜µ

| èµ„æºç±»å‹ | ä¸»è¦åœ°å½¢ | æ¬¡è¦åœ°å½¢ | ç”Ÿæˆæ¡ä»¶ | ç¨€æœ‰åº¦ |
|----------|----------|----------|----------|--------|
| é“œçŸ¿ | ferricStone | - | é“è´¨å°è¡Œæ˜Ÿ | å¸¸è§ |
| é“…çŸ¿ | æ‰€æœ‰ | stoneWallé™„è¿‘ | å¢™ä½“å‘¨å›´ | å¸¸è§ |
| ç…¤çŸ¿ | æ‰€æœ‰ | - | æåœ°+å™ªå£°>0.25 | ä¸­ç­‰ |
| é’›çŸ¿ | stone | - | å™ªå£°æ¡ä»¶ | ä¸­ç­‰ |
| é’çŸ¿ | beryllicStone | carbonStone | æåœ°+å™ªå£°>0.7 | ç¨€æœ‰ |
| é’¨çŸ¿ | æ‰€æœ‰(Erekir) | - | ç‰¹å®šå™ªå£°æ¨¡å¼ | ç¨€æœ‰ |
| æ°´æ™¶é’ | crystallineStone | - | ç»“æ™¶åœ°å½¢é™å®š | æç¨€æœ‰ |

### 9.2 ç¯å¢ƒå±æ€§å½±å“é“¾

```
åœ°å½¢ç±»å‹ â†’ ç¯å¢ƒå±æ€§ â†’ å»ºç­‘æ•ˆç‡ â†’ ç©å®¶ç­–ç•¥
    â†“
å¤©æ°”ç³»ç»Ÿ â†’ ç¯å¢ƒæ•ˆæœ â†’ èµ„æºäº§å‡º â†’ å‘å±•è·¯å¾„
    â†“
æ•ŒäººåŸºåœ° â†’ å¨èƒç­‰çº§ â†’ é˜²å¾¡éœ€æ±‚ â†’ å»ºé€ å¸ƒå±€
```

### 9.3 éš¾åº¦çº§è”ç³»ç»Ÿ

#### 9.3.1 å¨èƒç­‰çº§å½±å“
```java
// åŸºäºæ‰‡åŒºå¨èƒå€¼çš„è¿é”ååº”
float threat = sector.threat;

// æ•ŒäººåŸºåœ°æ•°é‡
int enemySpawns = rand.random(1, Math.max((int)(threat * 4), 1));

// æ³¢æ¬¡å¼ºåº¦
float waveTimeDec = 0.4f;
state.rules.waveSpacing = Mathf.lerp(60 * 65 * 2, 60f * 60f * 1f,
                                    Math.max(threat - waveTimeDec, 0f));

// èƒœåˆ©æ¡ä»¶
state.rules.winWave = 10 + 5 * (int)Math.max(threat * 10, 1);
```

#### 9.3.2 èµ„æºç¨€ç¼ºåº¦è°ƒèŠ‚
```java
// å¨èƒç­‰çº§è¶Šé«˜ï¼ŒåŸºç¡€èµ„æºè¶Šç¨€ç¼º
float resourceScarcity = 1f - threat * 0.3f;
for(Block ore : basicOres) {
    ore.generationChance *= resourceScarcity;
}

// é«˜çº§èµ„æºåœ¨é«˜å¨èƒåŒºåŸŸæ›´å¸¸è§
for(Block rareOre : rareOres) {
    rareOre.generationChance *= (1f + threat * 0.5f);
}
```

### 9.4 è·¨ç³»ç»Ÿæ•°æ®ä¼ é€’

#### 9.4.1 ç”Ÿæˆé˜¶æ®µæ•°æ®æµ
```
1. Sector.id â†’ éšæœºç§å­
2. ç§å­ â†’ åœ°å½¢å™ªå£°
3. åœ°å½¢ç±»å‹ â†’ ç¯å¢ƒå±æ€§
4. ç¯å¢ƒå±æ€§ â†’ å¤©æ°”æ¡ä»¶
5. å¨èƒç­‰çº§ â†’ æ•Œäººé…ç½®
6. åœ°å½¢+å¨èƒ â†’ èµ„æºåˆ†å¸ƒ
```

#### 9.4.2 è¿è¡Œæ—¶å…³è”
```java
// å¤©æ°”å½±å“ç¯å¢ƒå±æ€§
public void updateWeatherEffects() {
    if(state.rules.weather.contains(w -> w.weather == Weathers.rain)) {
        state.envAttrs.add(Attribute.water, 0.2f);  // é›¨å¤©å¢åŠ æ°´åˆ†
        state.envAttrs.add(Attribute.light, -0.3f); // é˜´å¤©å‡å°‘å…‰ç…§
    }
}
```

---

## 10. å¼€å‘å®ç°æŒ‡å—

### 10.1 æ ¸å¿ƒç±»å®ç°æ¸…å•

#### 10.1.1 å¿…é¡»å®ç°çš„ç±»
```java
// 1. æ˜Ÿçƒç”Ÿæˆå™¨åŸºç±»
public abstract class PlanetGenerator extends BasicGenerator implements HexMesher {
    protected Sector sector;
    protected int baseSeed, seed;

    // æ ¸å¿ƒæ¥å£æ–¹æ³•
    public abstract void generateSector(Sector sector);
    public abstract float getHeight(Vec3 position);
    public abstract Color getColor(Vec3 position);
    protected abstract void genTile(Vec3 position, TileGen tile);
}

// 2. å…·ä½“æ˜Ÿçƒå®ç°
public class SerpuloPlanetGenerator extends PlanetGenerator {
    // Serpuloç‰¹æœ‰å‚æ•°
    float scl = 5f, waterOffset = 0.07f;
    Block[][] terrainMatrix = {...};

    // å®ç°æŠ½è±¡æ–¹æ³•
}

// 3. åŸºç¡€ç”Ÿæˆå™¨å·¥å…·
public abstract class BasicGenerator implements WorldGenerator {
    // å·¥å…·æ–¹æ³•é›†åˆ
    protected void pass(Intc2 processor);
    protected void erase(int x, int y, int radius);
    protected void ore(Block ore, Block floor, float freq, float thresh);
    // ... å…¶ä»–å·¥å…·æ–¹æ³•
}
```

#### 10.1.2 è¾…åŠ©ç³»ç»Ÿç±»
```java
// æ•ŒäººåŸºåœ°ç”Ÿæˆå™¨
public class BaseGenerator {
    public void generate(Tiles tiles, Seq<Tile> cores, Tile spawn, Team team, Sector sector, float difficulty);
    public static boolean tryPlace(BasePart part, int x, int y, Team team, Rand rand);
}

// ç¯å¢ƒå±æ€§ç³»ç»Ÿ
public class Attributes implements JsonSerializable {
    private float[] arr = new float[Attribute.all.length];
    public float get(Attribute attr);
    public void set(Attribute attr, float value);
}
```

### 10.2 å…³é”®ç®—æ³•å®ç°

#### 10.2.1 å™ªå£°å‡½æ•°å°è£…
```java
public class NoiseUtils {
    // æ ‡å‡†åŒ–çš„å™ªå£°ç”Ÿæˆ
    public static float ridgedNoise3D(int seed, Vec3 pos, int octaves, float scale, float magnitude) {
        return Ridged.noise3d(seed, pos.x, pos.y, pos.z, octaves, scale) * magnitude;
    }

    // å¸¦åç§»çš„å¤åˆå™ªå£°
    public static float layeredNoise(int seed, float x, float y, NoiseLayer... layers) {
        float result = 0f;
        for(NoiseLayer layer : layers) {
            result += Simplex.noise2d(seed + layer.offset, layer.octaves, layer.persistence,
                                     1f / layer.scale, x, y) * layer.magnitude;
        }
        return result;
    }
}
```

#### 10.2.2 åœ°å½¢æ˜ å°„ç³»ç»Ÿ
```java
public class TerrainMapper {
    private Block[][] terrainMatrix;
    private int tempLevels, heightLevels;

    public Block getTerrainBlock(float temperature, float height) {
        int tempIndex = Mathf.clamp((int)(temperature * tempLevels), 0, tempLevels - 1);
        int heightIndex = Mathf.clamp((int)(height * heightLevels), 0, heightLevels - 1);
        return terrainMatrix[tempIndex][heightIndex];
    }

    public void setTerrainMatrix(Block[][] matrix) {
        this.terrainMatrix = matrix;
        this.tempLevels = matrix.length;
        this.heightLevels = matrix[0].length;
    }
}
```

### 10.3 æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 10.3.1 å™ªå£°è®¡ç®—ä¼˜åŒ–
```java
// ä½¿ç”¨ç¼“å­˜é¿å…é‡å¤è®¡ç®—
private final ObjectMap<Vec3, Float> noiseCache = new ObjectMap<>();

public float getCachedNoise(Vec3 position, int seed, int octaves, float scale) {
    Float cached = noiseCache.get(position);
    if(cached != null) return cached;

    float noise = Simplex.noise3d(seed, octaves, 0.5f, scale, position.x, position.y, position.z);
    noiseCache.put(position.cpy(), noise);
    return noise;
}

// å®šæœŸæ¸…ç†ç¼“å­˜é˜²æ­¢å†…å­˜æ³„æ¼
public void clearCache() {
    if(noiseCache.size > 10000) {
        noiseCache.clear();
    }
}
```

#### 10.3.2 åˆ†å—ç”Ÿæˆç­–ç•¥
```java
public class ChunkedGenerator {
    private static final int CHUNK_SIZE = 64;

    public void generateChunk(int chunkX, int chunkY, PlanetGenerator generator) {
        int startX = chunkX * CHUNK_SIZE;
        int startY = chunkY * CHUNK_SIZE;

        // åˆ†å—å¤„ç†ï¼Œå‡å°‘å†…å­˜å ç”¨
        for(int x = startX; x < startX + CHUNK_SIZE; x++) {
            for(int y = startY; y < startY + CHUNK_SIZE; y++) {
                // ç”Ÿæˆå•ä¸ªtile
                generateTile(x, y, generator);
            }
        }
    }
}
```

### 10.4 è°ƒè¯•ä¸æµ‹è¯•å·¥å…·

#### 10.4.1 ç”Ÿæˆå‚æ•°è°ƒè¯•é¢æ¿
```java
public class GenerationDebugPanel {
    // å¯è°ƒèŠ‚çš„ç”Ÿæˆå‚æ•°
    public float heightScale = 1f;
    public float temperatureOffset = 0f;
    public int previewSeed = 0;

    public void renderPreview(int width, int height) {
        // å®æ—¶é¢„è§ˆåœ°å½¢ç”Ÿæˆç»“æœ
        for(int x = 0; x < width; x++) {
            for(int y = 0; y < height; y++) {
                Vec3 pos = new Vec3(x / (float)width, y / (float)height, 0);
                Block terrain = generator.getBlock(pos);
                // æ¸²æŸ“é¢„è§ˆå›¾
            }
        }
    }
}
```

#### 10.4.2 æ€§èƒ½ç›‘æ§
```java
public class GenerationProfiler {
    private ObjectMap<String, Long> timings = new ObjectMap<>();

    public void startTiming(String operation) {
        timings.put(operation, System.nanoTime());
    }

    public void endTiming(String operation) {
        Long start = timings.get(operation);
        if(start != null) {
            long duration = System.nanoTime() - start;
            Log.info("@: @ ms", operation, duration / 1_000_000f);
        }
    }
}
```

### 10.5 æ‰©å±•æ€§è®¾è®¡

#### 10.5.1 æ¨¡å—åŒ–ç”Ÿæˆå™¨æ¥å£
```java
public interface TerrainModule {
    void applyToTile(int x, int y, TileGen tile, GenerationContext context);
    boolean shouldApply(GenerationContext context);
    int getPriority();  // åº”ç”¨é¡ºåº
}

// ä½¿ç”¨ç¤ºä¾‹
public class OreGenerationModule implements TerrainModule {
    public void applyToTile(int x, int y, TileGen tile, GenerationContext context) {
        if(tile.floor.hasSurface()) {
            // åº”ç”¨çŸ¿ç‰©ç”Ÿæˆé€»è¾‘
        }
    }
}
```

#### 10.5.2 é…ç½®é©±åŠ¨çš„ç”Ÿæˆç³»ç»Ÿ
```java
@Configurable
public class PlanetGenerationConfig {
    @ConfigValue(min = 0f, max = 10f)
    public float terrainScale = 5f;

    @ConfigValue(description = "Resource scarcity multiplier")
    public float resourceMultiplier = 1f;

    @ConfigArray(Block.class)
    public Block[] terrainBlocks = {Blocks.stone, Blocks.sand, Blocks.ice};
}
```

---

## ğŸ“Š é™„å½•ï¼šæ•°å€¼é…ç½®è¡¨

### A.1 Serpuloæ˜Ÿçƒé…ç½®
| å‚æ•° | æ•°å€¼ | ä½œç”¨ |
|------|------|------|
| scl | 5f | æ•´ä½“åœ°å½¢ç¼©æ”¾ |
| waterOffset | 0.07f | æµ·å¹³é¢é«˜åº¦ |
| heightPower | 2.3f | é«˜åº¦å¯¹æ¯”åº¦ |
| octaves | 7 | å™ªå£°å¤æ‚åº¦ |
| persistence | 0.5f | å™ªå£°è¡°å‡ |

### A.2 Erekiræ˜Ÿçƒé…ç½®
| å‚æ•° | æ•°å€¼ | ä½œç”¨ |
|------|------|------|
| heightScl | 0.9f | é«˜åº¦ç¼©æ”¾ |
| octaves | 8 | å™ªå£°å±‚æ•° |
| persistence | 0.7f | å™ªå£°æŒç»­æ€§ |
| heightPow | 3f | é«˜åº¦å¹‚æ¬¡ |
| heightMult | 1.6f | é«˜åº¦å€æ•° |

### A.3 å°è¡Œæ˜Ÿé…ç½®
| å‚æ•° | æ•°å€¼ | ä½œç”¨ |
|------|------|------|
| min/max | 20/30 | ä¸»è¦å°è¡Œæ˜Ÿæ•°é‡ |
| radMin/radMax | 12f/60f | å°è¡Œæ˜ŸåŠå¾„èŒƒå›´ |
| persistence | 0.4f | å½¢çŠ¶ä¸è§„åˆ™åº¦ |
| scale | 30f | è¾¹ç¼˜å™ªå£°å°ºåº¦ |
| mag | 0.46f | è¾¹ç¼˜å˜å½¢å¼ºåº¦ |

---

## ğŸ¯ ç»“è¯­

æœ¬ç­–åˆ’æ¡ˆæä¾›äº†Mindustryç¨‹åºåŒ–ä¸–ç•Œç”Ÿæˆç³»ç»Ÿçš„å®Œæ•´æŠ€æœ¯å®ç°æ–¹æ¡ˆã€‚é€šè¿‡è¯¦ç»†çš„ç®—æ³•åˆ†æã€æ•°å€¼å…¬å¼å’Œä»£ç å®ä¾‹ï¼Œå¼€å‘å›¢é˜Ÿå¯ä»¥ç›´æ¥åŸºäºæ­¤æ–‡æ¡£è¿›è¡ŒåŠŸèƒ½å¼€å‘ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
1. **ç®—æ³•é€æ˜**: æ‰€æœ‰å…³é”®ç®—æ³•éƒ½æœ‰å…·ä½“å®ç°å’Œæ•°å€¼é…ç½®
2. **æ¨¡å—åŒ–è®¾è®¡**: å„å­ç³»ç»ŸèŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
3. **æ€§èƒ½ä¼˜åŒ–**: æä¾›äº†ç¼“å­˜ã€åˆ†å—ç­‰ä¼˜åŒ–ç­–ç•¥
4. **è°ƒè¯•å‹å¥½**: åŒ…å«è°ƒè¯•å·¥å…·å’Œæµ‹è¯•æ–¹æ¡ˆ

**åç»­å‘å±•**:
- æ”¯æŒè‡ªå®šä¹‰æ˜Ÿçƒç±»å‹
- æ›´ä¸°å¯Œçš„ç¯å¢ƒäº¤äº’æœºåˆ¶
- åŠ¨æ€äº‹ä»¶ç³»ç»Ÿé›†æˆ
- å¤šäººæ¨¡å¼ä¸‹çš„ä¸€è‡´æ€§ä¿éšœ

---

*æœ¬æ–‡æ¡£åŸºäºMindustryæºç æ·±åº¦åˆ†æç¼–å†™ï¼Œç¡®ä¿æŠ€æœ¯å®ç°çš„å‡†ç¡®æ€§å’Œå¯è¡Œæ€§ã€‚*